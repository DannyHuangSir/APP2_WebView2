{"ast":null,"code":"import _objectSpread from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"isBankeeCard\",\"cardNo\"];import{currencySymbolGenerator,dateToString}from'utilities/Generator';import uuid from'react-uuid';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var getCardListing=function getCardListing(d){var _d$currency,_d$currency2,_d$currency3;return[{key:'01',title:'帳單結帳日',content:dateToString(d.billClosingDate)},{key:'02',title:'繳費截止日',content:dateToString(d.payDueDate)},{key:'03',title:'本期應繳金額',content:currencySymbolGenerator((_d$currency=d.currency)!==null&&_d$currency!==void 0?_d$currency:'TWD',d.newBalance)},{key:'04',title:'最低應繳金額',content:currencySymbolGenerator((_d$currency2=d.currency)!==null&&_d$currency2!==void 0?_d$currency2:'TWD',d.minDueAmount)},{key:'05',title:'本期累積已繳金額',content:currencySymbolGenerator((_d$currency3=d.currency)!==null&&_d$currency3!==void 0?_d$currency3:'TWD',d.paidAmount)},{key:'06',title:'最近繳費日',content:dateToString(d.lastPayDate)}];};export var getCreditListing=function getCreditListing(d){var _d$currency4,_d$currency5,_d$currency6,_d$currency7,_d$currency8;return[{key:'01',title:'你的信用卡額度',content:currencySymbolGenerator((_d$currency4=d.currency)!==null&&_d$currency4!==void 0?_d$currency4:'TWD',d.cardLimit)},{key:'02',title:'已使用額度',content:currencySymbolGenerator((_d$currency5=d.currency)!==null&&_d$currency5!==void 0?_d$currency5:'TWD',d.usedCardLimit)},{key:'03',title:'可使用額度',content:currencySymbolGenerator((_d$currency6=d.currency)!==null&&_d$currency6!==void 0?_d$currency6:'TWD',d.availCardLimit)},{key:'04',title:'國內預借現金可使用額度',content:currencySymbolGenerator((_d$currency7=d.currency)!==null&&_d$currency7!==void 0?_d$currency7:'TWD',d.cashAdvAvailLimitDomestic)},{key:'05',title:'國外預借現金可使用額度',content:currencySymbolGenerator((_d$currency8=d.currency)!==null&&_d$currency8!==void 0?_d$currency8:'TWD',d.cashAdvAvailLimitOverseas)}];};export var backInfo={title:['社群圈等級','升級條件*','國內/國外'],body:[{level:'4',condition:'達60萬',percentage:'1.20%/3%'},{level:'3',condition:'達24萬',percentage:'1.20%/1.20%'},{level:'2',condition:'達8萬',percentage:'1.00%/1.00%'},{level:'1',condition:'達2萬',percentage:'0.60%/0.60%'},{level:'0',condition:'未達2萬',percentage:'0.15%/0.15%'}]};export var levelInfo={title:['社群圈等級','升級條件*'],body:[{level:'4',condition:'達60萬'},{level:'3',condition:'達24萬'},{level:'2',condition:'達8萬'},{level:'1',condition:'達2萬'},{level:'0',condition:'未達2萬'}]};export var renderHead=function renderHead(titles){return titles.map(function(title){return/*#__PURE__*/_jsx(\"th\",{children:title},\"\".concat(uuid(),\"-head\"));});};export var renderBody=function renderBody(bodys){return bodys.map(function(body){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:body.level}),/*#__PURE__*/_jsx(\"th\",{children:body.condition}),body.percentage&&/*#__PURE__*/_jsx(\"th\",{children:body.percentage})]},\"\".concat(uuid(),\"-body\"));});};/**\r\n * 將從 getCards API 拿到的資料作轉換\r\n *\r\n * @param cards\r\n * @return {\r\n *    isBankeeCard:    true/false\r\n *    cards: [ {cardNo //卡號 }, ...]\r\n *    memberLevel,            // 會員等級\r\n *    rewardsRateDomestic,    // 國內回饋\r\n *    rewardsRateOverseas,    // 國外回饋\r\n *    rewardsAmount,          // 回饋試算\r\n * }\r\n *\r\n */export var generateTwoCardsArray=function generateTwoCardsArray(cardsFromApi){var base=[{isBankeeCard:true,cards:[]},{isBankeeCard:false,cards:[]}];var modifiedCards=cardsFromApi.reduce(function(acc,cur){var isBankeeCard=cur.isBankeeCard,cardNo=cur.cardNo,rest=_objectWithoutProperties(cur,_excluded);if(isBankeeCard==='Y'){acc[0]=_objectSpread(_objectSpread({},acc[0]),{},{cards:[{cardNo:cardNo}]},rest);}else acc[1].cards.push({cardNo:cardNo});return acc;},base);var filterExistedCards=modifiedCards.filter(function(_ref){var cards=_ref.cards;return cards.length;});return filterExistedCards;};","map":{"version":3,"names":["currencySymbolGenerator","dateToString","uuid","getCardListing","d","key","title","content","billClosingDate","payDueDate","currency","newBalance","minDueAmount","paidAmount","lastPayDate","getCreditListing","cardLimit","usedCardLimit","availCardLimit","cashAdvAvailLimitDomestic","cashAdvAvailLimitOverseas","backInfo","body","level","condition","percentage","levelInfo","renderHead","titles","map","renderBody","bodys","generateTwoCardsArray","cardsFromApi","base","isBankeeCard","cards","modifiedCards","reduce","acc","cur","cardNo","rest","push","filterExistedCards","filter","length"],"sources":["C:/Users/allen/git/app2-webview/src/pages/C00700_CreditCard/utils.js"],"sourcesContent":["import { currencySymbolGenerator, dateToString } from 'utilities/Generator';\r\nimport uuid from 'react-uuid';\r\n\r\nexport const getCardListing = (d) => ([\r\n  { key: '01', title: '帳單結帳日', content: dateToString(d.billClosingDate) },\r\n  { key: '02', title: '繳費截止日', content: dateToString(d.payDueDate) },\r\n  { key: '03', title: '本期應繳金額', content: currencySymbolGenerator(d.currency ?? 'TWD', d.newBalance) },\r\n  { key: '04', title: '最低應繳金額', content: currencySymbolGenerator(d.currency ?? 'TWD', d.minDueAmount) },\r\n  { key: '05', title: '本期累積已繳金額', content: currencySymbolGenerator(d.currency ?? 'TWD', d.paidAmount) },\r\n  { key: '06', title: '最近繳費日', content: dateToString(d.lastPayDate) },\r\n]);\r\n\r\nexport const getCreditListing = (d) => ([\r\n  { key: '01', title: '你的信用卡額度', content: currencySymbolGenerator(d.currency ?? 'TWD', d.cardLimit) },\r\n  { key: '02', title: '已使用額度', content: currencySymbolGenerator(d.currency ?? 'TWD', d.usedCardLimit) },\r\n  { key: '03', title: '可使用額度', content: currencySymbolGenerator(d.currency ?? 'TWD', d.availCardLimit) },\r\n  { key: '04', title: '國內預借現金可使用額度', content: currencySymbolGenerator(d.currency ?? 'TWD', d.cashAdvAvailLimitDomestic) },\r\n  { key: '05', title: '國外預借現金可使用額度', content: currencySymbolGenerator(d.currency ?? 'TWD', d.cashAdvAvailLimitOverseas) },\r\n]);\r\n\r\nexport const backInfo = {\r\n  title: ['社群圈等級', '升級條件*', '國內/國外'],\r\n  body: [\r\n    { level: '4', condition: '達60萬', percentage: '1.20%/3%' },\r\n    { level: '3', condition: '達24萬', percentage: '1.20%/1.20%' },\r\n    { level: '2', condition: '達8萬', percentage: '1.00%/1.00%' },\r\n    { level: '1', condition: '達2萬', percentage: '0.60%/0.60%' },\r\n    { level: '0', condition: '未達2萬', percentage: '0.15%/0.15%' },\r\n  ],\r\n};\r\n\r\nexport const levelInfo = {\r\n  title: ['社群圈等級', '升級條件*'],\r\n  body: [\r\n    { level: '4', condition: '達60萬' },\r\n    { level: '3', condition: '達24萬' },\r\n    { level: '2', condition: '達8萬' },\r\n    { level: '1', condition: '達2萬' },\r\n    { level: '0', condition: '未達2萬' },\r\n  ],\r\n};\r\n\r\nexport const renderHead = (titles) => titles.map((title) => (\r\n  <th key={`${uuid()}-head`}>\r\n    {title}\r\n  </th>\r\n));\r\n\r\nexport const renderBody = (bodys) => bodys.map((body) => (\r\n  <tr key={`${uuid()}-body`}>\r\n    <th>{body.level}</th>\r\n    <th>{body.condition}</th>\r\n    {body.percentage\r\n    && <th>{body.percentage}</th>}\r\n  </tr>\r\n));\r\n\r\n/**\r\n * 將從 getCards API 拿到的資料作轉換\r\n *\r\n * @param cards\r\n * @return {\r\n *    isBankeeCard:    true/false\r\n *    cards: [ {cardNo //卡號 }, ...]\r\n *    memberLevel,            // 會員等級\r\n *    rewardsRateDomestic,    // 國內回饋\r\n *    rewardsRateOverseas,    // 國外回饋\r\n *    rewardsAmount,          // 回饋試算\r\n * }\r\n *\r\n */\r\n\r\nexport const generateTwoCardsArray = (cardsFromApi) => {\r\n  const base = [\r\n    { isBankeeCard: true, cards: [] },\r\n    { isBankeeCard: false, cards: [] },\r\n  ];\r\n  const modifiedCards = cardsFromApi.reduce((acc, cur) => {\r\n    const { isBankeeCard, cardNo, ...rest } = cur;\r\n    if (isBankeeCard === 'Y') {\r\n      acc[0] = { ...acc[0], cards: [{ cardNo }], ...rest };\r\n    } else acc[1].cards.push({ cardNo });\r\n    return acc;\r\n  }, base);\r\n  const filterExistedCards = modifiedCards.filter(({ cards }) => cards.length);\r\n  return filterExistedCards;\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}