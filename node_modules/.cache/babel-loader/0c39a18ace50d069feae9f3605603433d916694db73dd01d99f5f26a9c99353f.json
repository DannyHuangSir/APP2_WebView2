{"ast":null,"code":"import _objectSpread from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable no-unused-vars */import{useEffect,useState}from'react';import{useHistory}from'react-router';import{accountFormatter,currencySymbolGenerator}from'utilities/Generator';import{transactionAuth}from'utilities/AppScriptProxy';/* Elements */import Layout from'components/Layout/Layout';import InformationList from'components/InformationList';import{FEIBButton}from'components/elements';import{createTransfer}from'./api';/* Styles */import ForeignCurrencyTransferWrapper from'./foreignCurrencyTransfer.style';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ForeignCurrencyTransfer1=function ForeignCurrencyTransfer1(_ref){var location=_ref.location;var history=useHistory();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),confirmData=_useState2[0],setConfirmData=_useState2[1];// 確認進行轉帳\nvar applyTransfer=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var code,rs,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:code=0x30;_context.next=3;return transactionAuth(code);case 3:rs=_context.sent;if(!(rs!==null&&rs!==void 0&&rs.result)){_context.next=9;break;}_context.next=7;return createTransfer(confirmData);case 7:response=_context.sent;history.push('/foreignCurrencyTransfer2',confirmData);case 9:case\"end\":return _context.stop();}}},_callee);}));return function applyTransfer(){return _ref2.apply(this,arguments);};}();// 取得日期\nvar getDateStr=function getDateStr(){var year=new Date().getFullYear();var month=new Date().getMonth()+1;var date=new Date().getDate();return\"\".concat(year,\"/\").concat(month,\"/\").concat(date);};useEffect(function(){setConfirmData(_objectSpread(_objectSpread({},location.state),{},{dateStr:getDateStr()}));},[]);return/*#__PURE__*/_jsx(Layout,{title:\"\\u5916\\u5E63\\u8F49\\u5E33\\u78BA\\u8A8D\",goBackFunc:function goBackFunc(){return history.goBack();},children:/*#__PURE__*/_jsxs(ForeignCurrencyTransferWrapper,{className:\"confirmAndResult\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"confrimDataContainer lighterBlueLine\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dataLabel\",children:\"\\u8F49\\u51FA\\u91D1\\u984D\\u8207\\u8F49\\u5165\\u5E33\\u865F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"balance\",children:[currencySymbolGenerator(confirmData===null||confirmData===void 0?void 0:confirmData.inCcyCd),confirmData===null||confirmData===void 0?void 0:confirmData.inAmt]}),/*#__PURE__*/_jsx(\"div\",{className:\"accountInfo\",children:\"\\u9060\\u6771\\u5546\\u9280(805)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"accountInfo\",children:accountFormatter(confirmData===null||confirmData===void 0?void 0:confirmData.inAcct)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"infoListContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(InformationList,{title:\"\\u8F49\\u51FA\\u5E33\\u865F\",content:accountFormatter(confirmData===null||confirmData===void 0?void 0:confirmData.outAcct)}),/*#__PURE__*/_jsx(InformationList,{title:\"\\u5E33\\u6236\\u9918\\u984D\",content:\"\".concat(currencySymbolGenerator(confirmData===null||confirmData===void 0?void 0:confirmData.outCcyCd)).concat(confirmData===null||confirmData===void 0?void 0:confirmData.acctBalance)}),/*#__PURE__*/_jsx(InformationList,{title:\"\\u65E5\\u671F\",content:confirmData===null||confirmData===void 0?void 0:confirmData.dateStr}),/*#__PURE__*/_jsx(InformationList,{title:\"\\u532F\\u6B3E\\u6027\\u8CEA\\u5206\\u985E\",content:confirmData===null||confirmData===void 0?void 0:confirmData.leglDesc}),/*#__PURE__*/_jsx(InformationList,{title:\"\\u5099\\u8A3B\",content:confirmData===null||confirmData===void 0?void 0:confirmData.memo})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btnContainer\",children:[/*#__PURE__*/_jsx(FEIBButton,{onClick:applyTransfer,children:\"\\u78BA\\u8A8D\"}),/*#__PURE__*/_jsx(\"div\",{className:\"warnText\",children:\"\\u8F49\\u5E33\\u524D\\u591A\\u601D\\u8003\\uFF0C\\u907F\\u514D\\u88AB\\u9A19\\u66F4\\u82E6\\u60F1\"})]})]})]})});};export default ForeignCurrencyTransfer1;","map":{"version":3,"names":["useEffect","useState","useHistory","accountFormatter","currencySymbolGenerator","transactionAuth","Layout","InformationList","FEIBButton","createTransfer","ForeignCurrencyTransferWrapper","ForeignCurrencyTransfer1","location","history","confirmData","setConfirmData","applyTransfer","code","rs","result","response","push","getDateStr","year","Date","getFullYear","month","getMonth","date","getDate","state","dateStr","goBack","inCcyCd","inAmt","inAcct","outAcct","outCcyCd","acctBalance","leglDesc","memo"],"sources":["C:/Users/allen/git/app2-webview/src/pages/D00700_ForeignCurrencyTransfer/foreignCurrencyTransfer_1.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\r\nimport { useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { accountFormatter, currencySymbolGenerator } from 'utilities/Generator';\r\nimport { transactionAuth } from 'utilities/AppScriptProxy';\r\n\r\n/* Elements */\r\nimport Layout from 'components/Layout/Layout';\r\nimport InformationList from 'components/InformationList';\r\nimport { FEIBButton } from 'components/elements';\r\nimport { createTransfer } from './api';\r\n\r\n/* Styles */\r\nimport ForeignCurrencyTransferWrapper from './foreignCurrencyTransfer.style';\r\n\r\nconst ForeignCurrencyTransfer1 = ({ location }) => {\r\n  const history = useHistory();\r\n  const [confirmData, setConfirmData] = useState({});\r\n\r\n  // 確認進行轉帳\r\n  const applyTransfer = async () => {\r\n    const code = 0x30;\r\n    const rs = await transactionAuth(code);\r\n    if (rs?.result) {\r\n      const response = await createTransfer(confirmData);\r\n      history.push('/foreignCurrencyTransfer2', confirmData);\r\n    }\r\n  };\r\n\r\n  // 取得日期\r\n  const getDateStr = () => {\r\n    const year = new Date().getFullYear();\r\n    const month = new Date().getMonth() + 1;\r\n    const date = new Date().getDate();\r\n    return `${year}/${month}/${date}`;\r\n  };\r\n\r\n  useEffect(() => {\r\n    setConfirmData({\r\n      ...location.state,\r\n      dateStr: getDateStr(),\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Layout title=\"外幣轉帳確認\" goBackFunc={() => history.goBack()}>\r\n      <ForeignCurrencyTransferWrapper className=\"confirmAndResult\">\r\n        <div className=\"confrimDataContainer lighterBlueLine\">\r\n          <div className=\"dataLabel\">轉出金額與轉入帳號</div>\r\n          <div className=\"balance\">\r\n            {\r\n              currencySymbolGenerator(confirmData?.inCcyCd)\r\n            }\r\n            {\r\n              confirmData?.inAmt\r\n            }\r\n          </div>\r\n          <div className=\"accountInfo\">遠東商銀(805)</div>\r\n          <div className=\"accountInfo\">{ accountFormatter(confirmData?.inAcct) }</div>\r\n        </div>\r\n        <div className=\"infoListContainer\">\r\n          <div>\r\n            <InformationList title=\"轉出帳號\" content={accountFormatter(confirmData?.outAcct)} />\r\n            <InformationList title=\"帳戶餘額\" content={`${currencySymbolGenerator(confirmData?.outCcyCd)}${confirmData?.acctBalance}`} />\r\n            <InformationList title=\"日期\" content={confirmData?.dateStr} />\r\n            <InformationList title=\"匯款性質分類\" content={confirmData?.leglDesc} />\r\n            <InformationList title=\"備註\" content={confirmData?.memo} />\r\n          </div>\r\n          <div className=\"btnContainer\">\r\n            <FEIBButton onClick={applyTransfer}>確認</FEIBButton>\r\n            <div className=\"warnText\">轉帳前多思考，避免被騙更苦惱</div>\r\n          </div>\r\n        </div>\r\n      </ForeignCurrencyTransferWrapper>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default ForeignCurrencyTransfer1;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}