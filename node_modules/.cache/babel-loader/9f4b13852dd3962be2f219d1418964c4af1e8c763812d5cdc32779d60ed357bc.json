{"ast":null,"code":"import _objectSpread from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable object-curly-newline */import{useEffect,useRef,useState}from'react';import{useHistory}from'react-router';import{useDispatch}from'react-redux';import Layout from'components/Layout/Layout';import{MainScrollWrapper}from'components/Layout';import SwiperLayout from'components/SwiperLayout';import{setWaittingVisible}from'stores/reducers/ModalReducer';import{showAnimationModal,showCustomDrawer,showError}from'utilities/MessageModal';import{AccountIcon11,AccountIcon12,CircleIcon,TransactionIcon1}from'assets/images/icons';import{loadFuncParams,closeFunc,transactionAuth,startFunc}from'utilities/AppScriptProxy';import{FuncID}from'utilities/FuncID';import{AuthCode}from'utilities/TxnAuthCode';import DepositPlanHeroSlide from'components/DepositPlanHeroSlide';import EmptySlide from'./components/EmptySlide';import EmptyPlan from'./components/EmptyPlan';import DepositPlan from'./components/DepositPlan';import{getDepositPlans,updateDepositPlan,closeDepositPlan,getAccountSummary}from'./api';import{AlertUpdateFail,AlertNoMainAccount,AlertMainDepositPlanHasBeenSetAlready,AlertUnavailableSubAccount,PromptShouldCloseDepositPlanOrNot,ConfirmDepositPlanHasBeenClosed,ConfirmNotToCloseDepositPlan}from'./utils/prompts';/**\r\n * C00600 存錢計畫 首頁\r\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DepositPlanPage=function DepositPlanPage(){var history=useHistory();// TODO 應該改用 startFunc\nvar dispatch=useDispatch();var _useState=useState(),_useState2=_slicedToArray(_useState,2),depositPlans=_useState2[0],setDepositPlans=_useState2[1];var swiperRef=useRef();useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var acctData,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(setWaittingVisible(true));// 檢查是否已申請主帳戶，「否」則到申請頁。\n_context.next=3;return getAccountSummary('M');case 3:acctData=_context.sent;if(!(acctData!==null&&acctData!==void 0&&acctData.length))AlertNoMainAccount({onOk:closeFunc});_context.next=7;return getDepositPlans();case 7:response=_context.sent;setDepositPlans(response);dispatch(setWaittingVisible(false));case 10:case\"end\":return _context.stop();}}},_callee);})),[]);/**\r\n   * 產生上方標題圖時會用的\r\n   */var handleSetMasterPlan=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(plan){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!plan.isMaster){_context2.next=3;break;}AlertMainDepositPlanHasBeenSetAlready();return _context2.abrupt(\"return\");case 3:_context2.next=5;return updateDepositPlan({planId:plan.planId,isMaster:true});case 5:response=_context2.sent;if(response.result){// 一併更新前端資料\nsetDepositPlans(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{plans:prevState.plans.map(function(p){p.isMaster=false;if(p.planId===plan.planId)p.isMaster=true;return p;})});});// 移動畫面顯示主要計畫\nif(swiperRef)swiperRef.current.swiper.slideTo(1);}else{AlertUpdateFail();}case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSetMasterPlan(_x){return _ref2.apply(this,arguments);};}();var handleTerminatePlan=function handleTerminatePlan(plan){var confirmTermination=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var _yield$transactionAut,result,message,response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return transactionAuth(AuthCode.C00600);case 2:_yield$transactionAut=_context3.sent;result=_yield$transactionAut.result;message=_yield$transactionAut.message;if(result){_context3.next=9;break;}_context3.next=8;return showError(message);case 8:return _context3.abrupt(\"return\");case 9:_context3.next=11;return closeDepositPlan({planId:plan.planId});case 11:response=_context3.sent;if('email'in response){ConfirmDepositPlanHasBeenClosed({email:response.email,onOk:function onOk(){return history.push('/');}});}else{showAnimationModal({isSuccess:false,errorTitle:'設定失敗',errorCode:'E341',// TODO\nerrorDesc:'親愛的客戶，因關閉計畫失敗，請重新執行交易，如有疑問，請與本行客戶服務中心聯繫。'});}case 13:case\"end\":return _context3.stop();}}},_callee3);}));return function confirmTermination(){return _ref3.apply(this,arguments);};}();PromptShouldCloseDepositPlanOrNot({endDate:plan.endDate,onOk:function onOk(){return confirmTermination();}});};var handleMoreClick=function handleMoreClick(plan){var list=[{icon:/*#__PURE__*/_jsx(CircleIcon,{}),title:'設定為主要存錢計畫',onClick:handleSetMasterPlan},{icon:/*#__PURE__*/_jsx(AccountIcon11,{}),title:'存錢計畫資訊',onClick:function onClick(){return history.push('/C006004',{isConfirmMode:false,plan:plan});}},{icon:/*#__PURE__*/_jsx(AccountIcon12,{}),title:'結束本計畫',onClick:handleTerminatePlan}];if(plan.progInfo.type===0){list.push({icon:/*#__PURE__*/_jsx(TransactionIcon1,{}),title:'轉帳',onClick:function onClick(){return startFunc(FuncID.D00100_台幣轉帳);}});}var options=/*#__PURE__*/_jsx(\"ul\",{children:list.map(function(func){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:function onClick(){return func.onClick(plan);},children:[func.icon,func.title]})},func.title);})});showCustomDrawer({content:options,shouldAutoClose:true});};var handleEditClick=function handleEditClick(plan){history.push('/C006005',{plan:plan});};/**\r\n   * 產生上方標題圖的 slides\r\n   * 預設3張新增計畫頁，再替換成後端回傳的計畫，最後再把主要計畫移至中間。\r\n   */var renderSlides=function renderSlides(){var slides=Array.from({length:3},function(_,i){return/*#__PURE__*/_jsx(EmptySlide,{},i);});if(depositPlans!==null&&depositPlans!==void 0&&depositPlans.plans.length){var masterSlideIndex=null;depositPlans.plans.forEach(function(p,i){if(p.isMaster){masterSlideIndex=i;}slides[i]=/*#__PURE__*/_jsx(DepositPlanHeroSlide,_objectSpread({accountNo:p.bindAccountNo,onMoreClicked:function onMoreClicked(){return handleMoreClick(p);},onEditClicked:function onEditClicked(){return handleEditClick(p);}},p),p.planId);});if(masterSlideIndex!==null){// 將向陣列中 index = masterSlideIndex 的項目調至 index = 1\nvar _ref4=[slides[1],slides[masterSlideIndex]];slides[masterSlideIndex]=_ref4[0];slides[1]=_ref4[1];}}return slides;};/**\r\n   * 產生下方內容時會用的\r\n   */var handleAddClick=function handleAddClick(){history.push('C006002',{plansLength:depositPlans===null||depositPlans===void 0?void 0:depositPlans.plans.length,subAccounts:depositPlans.subAccounts,totalSubAccountCount:depositPlans.totalSubAccountCount});};var handleShowDetailClick=function handleShowDetailClick(plan){history.push('C006001',{plan:plan});};var shouldShowUnavailableSubAccountAlert=function shouldShowUnavailableSubAccountAlert(){// totalSubAccount 若多於8組，且無可用的子帳戶時，\nif((depositPlans===null||depositPlans===void 0?void 0:depositPlans.totalSubAccountCount)>=8&&!(depositPlans!==null&&depositPlans!==void 0&&depositPlans.subAccounts.length))AlertUnavailableSubAccount();};/**\r\n   * 產生下方內容的 slides\r\n   * 預設3張新增計畫頁，再替換成後端回傳的計畫，最後再把主要計畫移至中間。\r\n   */var renderContents=function renderContents(){var slides=Array.from({length:3},function(_,i){return/*#__PURE__*/_jsx(EmptyPlan,{onAddClick:handleAddClick,onMount:shouldShowUnavailableSubAccountAlert},i);});if(depositPlans!==null&&depositPlans!==void 0&&depositPlans.plans.length){var masterSlideIndex=null;depositPlans.plans.forEach(function(p,i){if(p.isMaster){masterSlideIndex=i;}slides[i]=/*#__PURE__*/_jsx(DepositPlan,_objectSpread({onShowDetailClick:function onShowDetailClick(){return handleShowDetailClick(p);}},p),p.planId);});if(masterSlideIndex!==null){var _ref5=[slides[1],slides[masterSlideIndex]];slides[masterSlideIndex]=_ref5[0];slides[1]=_ref5[1];}}return slides;};/**\r\n   * 頁面載入後，依需求切換應該顯示的計畫。\r\n   * 如果是從別的頁面跳轉，可能會想要顯示特定的計畫，或預設顯示主要計畫。\r\n   */var focusToIntentedSlide=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(swiper){var activeIndex,startParams,accountNo;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:activeIndex=1;// 預設中間\n// startParams = { focusToAccountNo: 預設開啟的存錢計劃子帳號 }\n_context4.next=3;return loadFuncParams();case 3:startParams=_context4.sent;// Function Controller 提供的參數\nif(startParams&&typeof startParams==='object'){accountNo=startParams.focusToAccountNo;depositPlans.plans.forEach(function(p,i){if(p.bindAccountNo===accountNo)activeIndex=i;});}swiper.slideTo(activeIndex,0);case 6:case\"end\":return _context4.stop();}}},_callee4);}));return function focusToIntentedSlide(_x2){return _ref6.apply(this,arguments);};}();var handleGoBackClick=function handleGoBackClick(){var shouldBlockGoBack=document.querySelector('.blockGoBack');if(shouldBlockGoBack){ConfirmNotToCloseDepositPlan();}else{closeFunc();}};/**\r\n   * 產生頁面\r\n   * 只要提供相同數量的 slides 和 content，SwiperLayout會自動切換對應的內容。\r\n   */return/*#__PURE__*/_jsx(Layout,{title:\"\\u5B58\\u9322\\u8A08\\u756B\",hasClearHeader:true,goBackFunc:handleGoBackClick,children:/*#__PURE__*/_jsx(MainScrollWrapper,{children:/*#__PURE__*/_jsx(SwiperLayout,{ref:swiperRef,slides:renderSlides(),onAfterInit:focusToIntentedSlide,children:renderContents()})})});};export default DepositPlanPage;","map":{"version":3,"names":["useEffect","useRef","useState","useHistory","useDispatch","Layout","MainScrollWrapper","SwiperLayout","setWaittingVisible","showAnimationModal","showCustomDrawer","showError","AccountIcon11","AccountIcon12","CircleIcon","TransactionIcon1","loadFuncParams","closeFunc","transactionAuth","startFunc","FuncID","AuthCode","DepositPlanHeroSlide","EmptySlide","EmptyPlan","DepositPlan","getDepositPlans","updateDepositPlan","closeDepositPlan","getAccountSummary","AlertUpdateFail","AlertNoMainAccount","AlertMainDepositPlanHasBeenSetAlready","AlertUnavailableSubAccount","PromptShouldCloseDepositPlanOrNot","ConfirmDepositPlanHasBeenClosed","ConfirmNotToCloseDepositPlan","DepositPlanPage","history","dispatch","depositPlans","setDepositPlans","swiperRef","acctData","length","onOk","response","handleSetMasterPlan","plan","isMaster","planId","result","prevState","plans","map","p","current","swiper","slideTo","handleTerminatePlan","confirmTermination","C00600","message","email","push","isSuccess","errorTitle","errorCode","errorDesc","endDate","handleMoreClick","list","icon","title","onClick","isConfirmMode","progInfo","type","D00100_台幣轉帳","options","func","content","shouldAutoClose","handleEditClick","renderSlides","slides","Array","from","_","i","masterSlideIndex","forEach","bindAccountNo","handleAddClick","plansLength","subAccounts","totalSubAccountCount","handleShowDetailClick","shouldShowUnavailableSubAccountAlert","renderContents","focusToIntentedSlide","activeIndex","startParams","accountNo","focusToAccountNo","handleGoBackClick","shouldBlockGoBack","document","querySelector"],"sources":["C:/Users/allen/git/app2-webview/src/pages/C00600_DepositPlan/C00600.jsx"],"sourcesContent":["/* eslint-disable object-curly-newline */\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport Layout from 'components/Layout/Layout';\r\nimport { MainScrollWrapper } from 'components/Layout';\r\nimport SwiperLayout from 'components/SwiperLayout';\r\n\r\nimport { setWaittingVisible } from 'stores/reducers/ModalReducer';\r\nimport { showAnimationModal, showCustomDrawer, showError } from 'utilities/MessageModal';\r\nimport {\r\n  AccountIcon11, AccountIcon12, CircleIcon, TransactionIcon1,\r\n} from 'assets/images/icons';\r\nimport { loadFuncParams, closeFunc, transactionAuth, startFunc } from 'utilities/AppScriptProxy';\r\nimport { FuncID } from 'utilities/FuncID';\r\nimport {AuthCode} from 'utilities/TxnAuthCode';\r\nimport DepositPlanHeroSlide from 'components/DepositPlanHeroSlide';\r\nimport EmptySlide from './components/EmptySlide';\r\nimport EmptyPlan from './components/EmptyPlan';\r\nimport DepositPlan from './components/DepositPlan';\r\n\r\nimport { getDepositPlans, updateDepositPlan, closeDepositPlan, getAccountSummary } from './api';\r\nimport {\r\n  AlertUpdateFail,\r\n  AlertNoMainAccount,\r\n  AlertMainDepositPlanHasBeenSetAlready,\r\n  AlertUnavailableSubAccount,\r\n  PromptShouldCloseDepositPlanOrNot,\r\n  ConfirmDepositPlanHasBeenClosed,\r\n  ConfirmNotToCloseDepositPlan,\r\n} from './utils/prompts';\r\n\r\n/**\r\n * C00600 存錢計畫 首頁\r\n */\r\nconst DepositPlanPage = () => {\r\n  const history = useHistory(); // TODO 應該改用 startFunc\r\n  const dispatch = useDispatch();\r\n  const [depositPlans, setDepositPlans] = useState();\r\n  const swiperRef = useRef();\r\n  useEffect(async () => {\r\n    dispatch(setWaittingVisible(true));\r\n    // 檢查是否已申請主帳戶，「否」則到申請頁。\r\n    const acctData = await getAccountSummary('M');\r\n    if (!acctData?.length) AlertNoMainAccount({onOk: closeFunc});\r\n    const response = await getDepositPlans();\r\n    setDepositPlans(response);\r\n\r\n    dispatch(setWaittingVisible(false));\r\n  }, []);\r\n\r\n  /**\r\n   * 產生上方標題圖時會用的\r\n   */\r\n  const handleSetMasterPlan = async (plan) => {\r\n    if (plan.isMaster) {\r\n      AlertMainDepositPlanHasBeenSetAlready();\r\n      return;\r\n    }\r\n\r\n    const response = await updateDepositPlan({\r\n      planId: plan.planId,\r\n      isMaster: true,\r\n    });\r\n\r\n    if (response.result) {\r\n      // 一併更新前端資料\r\n      setDepositPlans((prevState) => ({...prevState,\r\n        plans: prevState.plans.map((p) => {\r\n          p.isMaster = false;\r\n          if (p.planId === plan.planId) p.isMaster = true;\r\n          return p;\r\n        })}));\r\n\r\n      // 移動畫面顯示主要計畫\r\n      if (swiperRef)swiperRef.current.swiper.slideTo(1);\r\n    } else {\r\n      AlertUpdateFail();\r\n    }\r\n  };\r\n\r\n  const handleTerminatePlan = (plan) => {\r\n    const confirmTermination = async () => {\r\n      const {result, message} = await transactionAuth(AuthCode.C00600); // 需通過 2FA 或 網銀密碼 驗證才能關閉計劃。\r\n      if (!result) {\r\n        await showError(message);\r\n        return;\r\n      }\r\n\r\n      const response = await closeDepositPlan({\r\n        planId: plan.planId,\r\n      });\r\n      if ('email' in response) {\r\n        ConfirmDepositPlanHasBeenClosed({ email: response.email, onOk: () => history.push('/') });\r\n      } else {\r\n        showAnimationModal({\r\n          isSuccess: false,\r\n          errorTitle: '設定失敗',\r\n          errorCode: 'E341', // TODO\r\n          errorDesc: '親愛的客戶，因關閉計畫失敗，請重新執行交易，如有疑問，請與本行客戶服務中心聯繫。',\r\n        });\r\n      }\r\n    };\r\n\r\n    PromptShouldCloseDepositPlanOrNot({ endDate: plan.endDate, onOk: () => confirmTermination()});\r\n  };\r\n\r\n  const handleMoreClick = (plan) => {\r\n    const list = [\r\n      { icon: <CircleIcon />, title: '設定為主要存錢計畫', onClick: handleSetMasterPlan },\r\n      { icon: <AccountIcon11 />, title: '存錢計畫資訊', onClick: () => history.push('/C006004', { isConfirmMode: false, plan }) },\r\n      { icon: <AccountIcon12 />, title: '結束本計畫', onClick: handleTerminatePlan },\r\n    ];\r\n    if (plan.progInfo.type === 0) {\r\n      list.push({ icon: <TransactionIcon1 />, title: '轉帳', onClick: () => startFunc(FuncID.D00100_台幣轉帳) });\r\n    }\r\n    const options = (\r\n      <ul>\r\n        {list.map((func) => (\r\n          <li key={func.title}>\r\n            <button type=\"button\" onClick={() => func.onClick(plan)}>\r\n              {func.icon}\r\n              {func.title}\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    );\r\n\r\n    showCustomDrawer({content: options, shouldAutoClose: true});\r\n  };\r\n\r\n  const handleEditClick = (plan) => {\r\n    history.push('/C006005', { plan });\r\n  };\r\n\r\n  /**\r\n   * 產生上方標題圖的 slides\r\n   * 預設3張新增計畫頁，再替換成後端回傳的計畫，最後再把主要計畫移至中間。\r\n   */\r\n  const renderSlides = () => {\r\n    const slides = Array.from({ length: 3 }, (_, i) => <EmptySlide key={i} />);\r\n\r\n    if (depositPlans?.plans.length) {\r\n      let masterSlideIndex = null;\r\n      depositPlans.plans.forEach((p, i) => {\r\n        if (p.isMaster) { masterSlideIndex = i; }\r\n        slides[i] = (\r\n          <DepositPlanHeroSlide\r\n            key={p.planId}\r\n            accountNo={p.bindAccountNo}\r\n            onMoreClicked={() => handleMoreClick(p)}\r\n            onEditClicked={() => handleEditClick(p)}\r\n            {...p}\r\n          />\r\n        );\r\n      });\r\n\r\n      if (masterSlideIndex !== null) {\r\n        // 將向陣列中 index = masterSlideIndex 的項目調至 index = 1\r\n        [slides[masterSlideIndex], slides[1]] = [slides[1], slides[masterSlideIndex]];\r\n      }\r\n    }\r\n    return slides;\r\n  };\r\n\r\n  /**\r\n   * 產生下方內容時會用的\r\n   */\r\n  const handleAddClick = () => {\r\n    history.push('C006002', {\r\n      plansLength: depositPlans?.plans.length,\r\n      subAccounts: depositPlans.subAccounts,\r\n      totalSubAccountCount: depositPlans.totalSubAccountCount,\r\n    });\r\n  };\r\n\r\n  const handleShowDetailClick = (plan) => {\r\n    history.push('C006001', {plan});\r\n  };\r\n\r\n  const shouldShowUnavailableSubAccountAlert = () => {\r\n    // totalSubAccount 若多於8組，且無可用的子帳戶時，\r\n    if ((depositPlans?.totalSubAccountCount >= 8) && !(depositPlans?.subAccounts.length)) AlertUnavailableSubAccount();\r\n  };\r\n\r\n  /**\r\n   * 產生下方內容的 slides\r\n   * 預設3張新增計畫頁，再替換成後端回傳的計畫，最後再把主要計畫移至中間。\r\n   */\r\n  const renderContents = () => {\r\n    const slides = Array.from({ length: 3 }, (_, i) => (\r\n      <EmptyPlan\r\n        key={i}\r\n        onAddClick={handleAddClick}\r\n        onMount={shouldShowUnavailableSubAccountAlert}\r\n      />\r\n    ));\r\n\r\n    if (depositPlans?.plans.length) {\r\n      let masterSlideIndex = null;\r\n      depositPlans.plans.forEach((p, i) => {\r\n        if (p.isMaster) { masterSlideIndex = i; }\r\n        slides[i] = (\r\n          <DepositPlan\r\n            key={p.planId}\r\n            onShowDetailClick={() => handleShowDetailClick(p)}\r\n            {...p}\r\n          />\r\n        );\r\n      });\r\n\r\n      if (masterSlideIndex !== null) {\r\n        [slides[masterSlideIndex], slides[1]] = [slides[1], slides[masterSlideIndex]];\r\n      }\r\n    }\r\n    return slides;\r\n  };\r\n\r\n  /**\r\n   * 頁面載入後，依需求切換應該顯示的計畫。\r\n   * 如果是從別的頁面跳轉，可能會想要顯示特定的計畫，或預設顯示主要計畫。\r\n   */\r\n  const focusToIntentedSlide = async (swiper) => {\r\n    let activeIndex = 1; // 預設中間\r\n\r\n    // startParams = { focusToAccountNo: 預設開啟的存錢計劃子帳號 }\r\n    const startParams = await loadFuncParams(); // Function Controller 提供的參數\r\n    if (startParams && (typeof startParams === 'object')) {\r\n      const accountNo = startParams.focusToAccountNo;\r\n      depositPlans.plans.forEach((p, i) => {\r\n        if (p.bindAccountNo === accountNo) activeIndex = i;\r\n      });\r\n    }\r\n    swiper.slideTo(activeIndex, 0);\r\n  };\r\n\r\n  const handleGoBackClick = () => {\r\n    const shouldBlockGoBack = document.querySelector('.blockGoBack');\r\n    if (shouldBlockGoBack) {\r\n      ConfirmNotToCloseDepositPlan();\r\n    } else {\r\n      closeFunc();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 產生頁面\r\n   * 只要提供相同數量的 slides 和 content，SwiperLayout會自動切換對應的內容。\r\n   */\r\n  return (\r\n    <Layout title=\"存錢計畫\" hasClearHeader goBackFunc={handleGoBackClick}>\r\n      <MainScrollWrapper>\r\n        <SwiperLayout\r\n          ref={swiperRef}\r\n          slides={renderSlides()}\r\n          onAfterInit={focusToIntentedSlide}\r\n        >\r\n          { renderContents() }\r\n        </SwiperLayout>\r\n      </MainScrollWrapper>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default DepositPlanPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}