{"ast":null,"code":"import _objectSpread from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{getCallerFunc}from'utilities/AppScriptProxy';import{callAPI}from'utilities/axios';/**\r\n * 取得取得免費跨提/跨轉次數、數存優惠利率及資訊\r\n * @param {String} accountNo 存款帳號\r\n * @returns {Promise<{\r\n*   freeWithdraw: 免費跨提總次數\r\n *   freeWithdrawRemain: 免費跨提剩餘次數\r\n *   freeTransfer: 免費跨轉總次數\r\n *   freeTransferRemain: 免費跨轉剩餘次數\r\n *   bonusQuota: 優惠利率額度\r\n *   bonusRate: 優惠利率\r\n *   interest: 累積利息\r\n * }>} 優惠資訊\r\n */export var getAccountExtraInfo=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(accountNo){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return callAPI('/api/depositPlus/v1/getBonusInfo',accountNo);case 2:response=_context.sent;return _context.abrupt(\"return\",response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getAccountExtraInfo(_x){return _ref.apply(this,arguments);};}();/**\r\n * 建立台幣轉帳交易，需再完成交易確認才會真的執行轉帳。\r\n * @param {{\r\n *   transOut: '轉出帳號',\r\n *   transIn: {\r\n *     bank: '轉入帳戶的銀行',\r\n *     account: '轉入帳戶的帳號',\r\n *   },\r\n *   amount: '轉出金額',\r\n *   booking: {\r\n *     mode: '立即或預約。 0.立即轉帳, 1.預約轉帳',\r\n *     multiTimes: '單次或多次。 單次, *.多次',\r\n *     transDate: '轉帳日期。 multiTimes=\"1\"時',\r\n *     transRange: '轉帳日期區間。 multiTimes=\"*\"時',\r\n *     cycleMode: '交易頻率。 1.每周, 2.每月',\r\n *     cycleTiming: '交易週期。〔 0-6: 周日-周六 〕或〔 1-31: 每月1-31〕',\r\n *   },\r\n *   memo: '備註',\r\n * }} request\r\n * @returns {Promise<{\r\n *   result: '表示是否成功建立台幣轉帳交易記錄',\r\n *   message: '紀錄無法成功建立的原因',\r\n *   isAgreedTxn: '表示約定轉帳的旗標',\r\n * }>}\r\n */export var createNtdTransfer=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(request){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return callAPI('/api/transfer/ntd/v1/create',_objectSpread(_objectSpread({},request),{},{callerFunc:getCallerFunc()// 啟用轉帳功能的 FuncCode, 例: 從台幣首頁叫轉帳時，應傳入C00300\n}));case 2:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function createNtdTransfer(_x2){return _ref2.apply(this,arguments);};}();/**\r\n * 執行轉帳交易。\r\n * @returns {Promise<{\r\n *    isSuccess,\r\n *    balance: 轉出後餘額,\r\n *    fee: 手續費,\r\n *    fiscCode: 財金序號_跨轉才有,\r\n *    errorCode,\r\n *    message: 錯誤訊息,\r\n * }>} 轉帳結果。\r\n */export var executeNtdTransfer=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return callAPI('/api/transfer/ntd/v1/execute');case 2:response=_context3.sent;return _context3.abrupt(\"return\",_objectSpread(_objectSpread({},response.data),{},{isSuccess:response.isSuccess&&response.data.errorCode===''}));case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function executeNtdTransfer(){return _ref3.apply(this,arguments);};}();","map":{"version":3,"names":["getCallerFunc","callAPI","getAccountExtraInfo","accountNo","response","data","createNtdTransfer","request","callerFunc","executeNtdTransfer","isSuccess","errorCode"],"sources":["C:/Users/allen/git/app2-webview/src/pages/D00100_NtdTransfer/api.js"],"sourcesContent":["import { getCallerFunc } from 'utilities/AppScriptProxy';\r\nimport { callAPI } from 'utilities/axios';\r\n\r\n/**\r\n * 取得取得免費跨提/跨轉次數、數存優惠利率及資訊\r\n * @param {String} accountNo 存款帳號\r\n * @returns {Promise<{\r\n*   freeWithdraw: 免費跨提總次數\r\n *   freeWithdrawRemain: 免費跨提剩餘次數\r\n *   freeTransfer: 免費跨轉總次數\r\n *   freeTransferRemain: 免費跨轉剩餘次數\r\n *   bonusQuota: 優惠利率額度\r\n *   bonusRate: 優惠利率\r\n *   interest: 累積利息\r\n * }>} 優惠資訊\r\n */\r\nexport const getAccountExtraInfo = async (accountNo) => {\r\n  const response = await callAPI('/api/depositPlus/v1/getBonusInfo', accountNo);\r\n  return response.data;\r\n};\r\n\r\n/**\r\n * 建立台幣轉帳交易，需再完成交易確認才會真的執行轉帳。\r\n * @param {{\r\n *   transOut: '轉出帳號',\r\n *   transIn: {\r\n *     bank: '轉入帳戶的銀行',\r\n *     account: '轉入帳戶的帳號',\r\n *   },\r\n *   amount: '轉出金額',\r\n *   booking: {\r\n *     mode: '立即或預約。 0.立即轉帳, 1.預約轉帳',\r\n *     multiTimes: '單次或多次。 單次, *.多次',\r\n *     transDate: '轉帳日期。 multiTimes=\"1\"時',\r\n *     transRange: '轉帳日期區間。 multiTimes=\"*\"時',\r\n *     cycleMode: '交易頻率。 1.每周, 2.每月',\r\n *     cycleTiming: '交易週期。〔 0-6: 周日-周六 〕或〔 1-31: 每月1-31〕',\r\n *   },\r\n *   memo: '備註',\r\n * }} request\r\n * @returns {Promise<{\r\n *   result: '表示是否成功建立台幣轉帳交易記錄',\r\n *   message: '紀錄無法成功建立的原因',\r\n *   isAgreedTxn: '表示約定轉帳的旗標',\r\n * }>}\r\n */\r\nexport const createNtdTransfer = async (request) => {\r\n  const response = await callAPI('/api/transfer/ntd/v1/create', {\r\n    ...request,\r\n    callerFunc: getCallerFunc(), // 啟用轉帳功能的 FuncCode, 例: 從台幣首頁叫轉帳時，應傳入C00300\r\n  });\r\n  return response.data;\r\n};\r\n\r\n/**\r\n * 執行轉帳交易。\r\n * @returns {Promise<{\r\n *    isSuccess,\r\n *    balance: 轉出後餘額,\r\n *    fee: 手續費,\r\n *    fiscCode: 財金序號_跨轉才有,\r\n *    errorCode,\r\n *    message: 錯誤訊息,\r\n * }>} 轉帳結果。\r\n */\r\nexport const executeNtdTransfer = async () => {\r\n  const response = await callAPI('/api/transfer/ntd/v1/execute');\r\n  return {\r\n    ...response.data,\r\n    isSuccess: (response.isSuccess && response.data.errorCode === ''),\r\n  };\r\n};\r\n"],"mappings":"8WAAA,OAASA,aAAa,KAAQ,0BAA0B,CACxD,OAASC,OAAO,KAAQ,iBAAiB,CAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,IAAMC,oBAAmB,4FAAG,iBAAOC,SAAS,uJAC1BF,QAAO,CAAC,kCAAkC,CAAEE,SAAS,CAAC,QAAvEC,QAAQ,+CACPA,QAAQ,CAACC,IAAI,wDACrB,kBAHYH,oBAAmB,4CAG/B,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,IAAMI,kBAAiB,6FAAG,kBAAOC,OAAO,4JACtBN,QAAO,CAAC,6BAA6B,gCACvDM,OAAO,MACVC,UAAU,CAAER,aAAa,EAAI;AAAA,GAC7B,QAHII,QAAQ,iDAIPA,QAAQ,CAACC,IAAI,0DACrB,kBANYC,kBAAiB,8CAM7B,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,IAAMG,mBAAkB,6FAAG,8KACTR,QAAO,CAAC,8BAA8B,CAAC,QAAxDG,QAAQ,gFAETA,QAAQ,CAACC,IAAI,MAChBK,SAAS,CAAGN,QAAQ,CAACM,SAAS,EAAIN,QAAQ,CAACC,IAAI,CAACM,SAAS,GAAK,EAAG,4DAEpE,kBANYF,mBAAkB,2CAM9B"},"metadata":{},"sourceType":"module","externalDependencies":[]}