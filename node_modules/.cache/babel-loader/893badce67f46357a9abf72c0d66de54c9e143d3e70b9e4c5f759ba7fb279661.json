{"ast":null,"code":"import{EditIcon}from'assets/images/icons';import Loading from'components/Loading';import EmptyData from'components/EmptyData';import{FEIBIconButton}from'components/elements';import ArrowNextButton from'components/ArrowNextButton';import{showCustomPrompt}from'utilities/MessageModal';import{currencySymbolGenerator}from'utilities/Generator';import{MemoEditForm}from'./memoEditForm';import{DetailCardWrapper}from'./cardTxsList.style';import{creditNumberFormat,stringDateFormat}from'./utils';/*\r\n* ==================== TransactionsList 組件說明 ====================\r\n* 信用卡交易明細組件\r\n* ==================== TransactionsList 可傳參數 ====================\r\n* 1. card -> 卡片資料\r\n* 2. go2MoreDetails -> 更多明細\r\n* 3. showAll -> true:顯示所有交易明細, false: 只顯示前三筆\r\n* 4. transactions -> 交易明細列表\r\n* 5. onTxnNotesEdit -> 編輯交易明細的 handler\r\n* */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CreditCardTxsList=function CreditCardTxsList(_ref){var card=_ref.card,go2MoreDetails=_ref.go2MoreDetails,showAll=_ref.showAll,transactions=_ref.transactions,onTxnNotesEdit=_ref.onTxnNotesEdit;//  提交memoText\nvar showMemoEditDialog=function showMemoEditDialog(transaction){showCustomPrompt({title:'編輯備註',message:/*#__PURE__*/_jsx(MemoEditForm,{defaultValues:transaction,isBankeeCard:card.isBankeeCard,onTxnNotesEdit:onTxnNotesEdit})});};// 信用卡交易明細列表\nvar renderTransactionList=function renderTransactionList(){if(!transactions)return/*#__PURE__*/_jsx(Loading,{space:\"both\",isCentered:true});if(!transactions.length)return/*#__PURE__*/_jsx(EmptyData,{content:\"\\u67E5\\u7121\\u4EA4\\u6613\\u660E\\u7D30\"});var transArr=showAll?transactions:transactions.slice(0,3);// 至多只輸出三筆資料\nreturn/*#__PURE__*/_jsx(\"div\",{style:{paddingTop:'2.5rem'},children:transArr.map(function(transaction){return/*#__PURE__*/_jsxs(DetailCardWrapper,{noShadow:true,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"description\",children:[/*#__PURE__*/_jsx(\"h4\",{children:transaction.txName}),/*#__PURE__*/_jsxs(\"p\",{children:[stringDateFormat(transaction.txDate),!card.isBankeeCard&&\" | \\u5361-\".concat(creditNumberFormat(transaction.cardNo))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"amount\",children:[/*#__PURE__*/_jsx(\"h4\",{children:currencySymbolGenerator('NTD',transaction.amount)}),/*#__PURE__*/_jsxs(\"div\",{className:\"remark\",children:[/*#__PURE__*/_jsx(\"span\",{children:transaction.note}),/*#__PURE__*/_jsx(FEIBIconButton,{$fontSize:1.6,onClick:function onClick(){return showMemoEditDialog(transaction);},className:\"badIcon\",children:/*#__PURE__*/_jsx(EditIcon,{})})]})]})]},transaction.txKey);})});};return/*#__PURE__*/_jsxs(_Fragment,{children:[renderTransactionList(),!!go2MoreDetails&&(transactions===null||transactions===void 0?void 0:transactions.length)>3&&/*#__PURE__*/_jsx(ArrowNextButton,{onClick:go2MoreDetails,children:\"\\u66F4\\u591A\\u660E\\u7D30\"})]});};export default CreditCardTxsList;","map":{"version":3,"names":["EditIcon","Loading","EmptyData","FEIBIconButton","ArrowNextButton","showCustomPrompt","currencySymbolGenerator","MemoEditForm","DetailCardWrapper","creditNumberFormat","stringDateFormat","CreditCardTxsList","card","go2MoreDetails","showAll","transactions","onTxnNotesEdit","showMemoEditDialog","transaction","title","message","isBankeeCard","renderTransactionList","length","transArr","slice","paddingTop","map","txName","txDate","cardNo","amount","note","txKey"],"sources":["C:/Users/allen/git/app2-webview/src/components/CreditCardTxsList/index.js"],"sourcesContent":["import { EditIcon } from 'assets/images/icons';\r\nimport Loading from 'components/Loading';\r\nimport EmptyData from 'components/EmptyData';\r\nimport { FEIBIconButton } from 'components/elements';\r\nimport ArrowNextButton from 'components/ArrowNextButton';\r\nimport { showCustomPrompt } from 'utilities/MessageModal';\r\nimport { currencySymbolGenerator } from 'utilities/Generator';\r\n\r\nimport { MemoEditForm } from './memoEditForm';\r\nimport { DetailCardWrapper } from './cardTxsList.style';\r\nimport { creditNumberFormat, stringDateFormat } from './utils';\r\n\r\n/*\r\n* ==================== TransactionsList 組件說明 ====================\r\n* 信用卡交易明細組件\r\n* ==================== TransactionsList 可傳參數 ====================\r\n* 1. card -> 卡片資料\r\n* 2. go2MoreDetails -> 更多明細\r\n* 3. showAll -> true:顯示所有交易明細, false: 只顯示前三筆\r\n* 4. transactions -> 交易明細列表\r\n* 5. onTxnNotesEdit -> 編輯交易明細的 handler\r\n* */\r\n\r\nconst CreditCardTxsList = ({\r\n  card,\r\n  go2MoreDetails,\r\n  showAll,\r\n  transactions,\r\n  onTxnNotesEdit,\r\n}) => {\r\n  //  提交memoText\r\n  const showMemoEditDialog = (transaction) => {\r\n    showCustomPrompt({\r\n      title: '編輯備註',\r\n      message: (\r\n        <MemoEditForm\r\n          defaultValues={transaction}\r\n          isBankeeCard={card.isBankeeCard}\r\n          onTxnNotesEdit={onTxnNotesEdit}\r\n        />\r\n      ),\r\n    });\r\n  };\r\n\r\n  // 信用卡交易明細列表\r\n  const renderTransactionList = () => {\r\n    if (!transactions) return <Loading space=\"both\" isCentered />;\r\n    if (!transactions.length) return <EmptyData content=\"查無交易明細\" />;\r\n\r\n    const transArr = showAll ? transactions : transactions.slice(0, 3); // 至多只輸出三筆資料\r\n    return (\r\n      <div style={{ paddingTop: '2.5rem' }}>\r\n        {transArr.map((transaction) => (\r\n          <DetailCardWrapper key={transaction.txKey} noShadow>\r\n            <div className=\"description\">\r\n              <h4>{transaction.txName}</h4>\r\n              <p>\r\n                {stringDateFormat(transaction.txDate)}\r\n                {!card.isBankeeCard\r\n                  && ` | 卡-${creditNumberFormat(transaction.cardNo)}`}\r\n              </p>\r\n            </div>\r\n            <div className=\"amount\">\r\n              <h4>{currencySymbolGenerator('NTD', transaction.amount)}</h4>\r\n              <div className=\"remark\">\r\n                <span>{transaction.note}</span>\r\n                <FEIBIconButton\r\n                  $fontSize={1.6}\r\n                  onClick={() => showMemoEditDialog(transaction)}\r\n                  className=\"badIcon\"\r\n                >\r\n                  <EditIcon />\r\n                </FEIBIconButton>\r\n              </div>\r\n            </div>\r\n          </DetailCardWrapper>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {renderTransactionList()}\r\n      {!!go2MoreDetails && transactions?.length > 3 && (\r\n        <ArrowNextButton onClick={go2MoreDetails}>更多明細</ArrowNextButton>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CreditCardTxsList;\r\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,qBAAqB,CAC9C,MAAOC,QAAO,KAAM,oBAAoB,CACxC,MAAOC,UAAS,KAAM,sBAAsB,CAC5C,OAASC,cAAc,KAAQ,qBAAqB,CACpD,MAAOC,gBAAe,KAAM,4BAA4B,CACxD,OAASC,gBAAgB,KAAQ,wBAAwB,CACzD,OAASC,uBAAuB,KAAQ,qBAAqB,CAE7D,OAASC,YAAY,KAAQ,gBAAgB,CAC7C,OAASC,iBAAiB,KAAQ,qBAAqB,CACvD,OAASC,kBAAkB,CAAEC,gBAAgB,KAAQ,SAAS,CAE9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IATA,6IAWA,GAAMC,kBAAiB,CAAG,QAApBA,kBAAiB,MAMjB,IALJC,KAAI,MAAJA,IAAI,CACJC,cAAc,MAAdA,cAAc,CACdC,OAAO,MAAPA,OAAO,CACPC,YAAY,MAAZA,YAAY,CACZC,cAAc,MAAdA,cAAc,CAEd;AACA,GAAMC,mBAAkB,CAAG,QAArBA,mBAAkB,CAAIC,WAAW,CAAK,CAC1Cb,gBAAgB,CAAC,CACfc,KAAK,CAAE,MAAM,CACbC,OAAO,cACL,KAAC,YAAY,EACX,aAAa,CAAEF,WAAY,CAC3B,YAAY,CAAEN,IAAI,CAACS,YAAa,CAChC,cAAc,CAAEL,cAAe,EAGrC,CAAC,CAAC,CACJ,CAAC,CAED;AACA,GAAMM,sBAAqB,CAAG,QAAxBA,sBAAqB,EAAS,CAClC,GAAI,CAACP,YAAY,CAAE,mBAAO,KAAC,OAAO,EAAC,KAAK,CAAC,MAAM,CAAC,UAAU,OAAG,CAC7D,GAAI,CAACA,YAAY,CAACQ,MAAM,CAAE,mBAAO,KAAC,SAAS,EAAC,OAAO,CAAC,sCAAQ,EAAG,CAE/D,GAAMC,SAAQ,CAAGV,OAAO,CAAGC,YAAY,CAAGA,YAAY,CAACU,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE;AACpE,mBACE,YAAK,KAAK,CAAE,CAAEC,UAAU,CAAE,QAAS,CAAE,UAClCF,QAAQ,CAACG,GAAG,CAAC,SAACT,WAAW,qBACxB,MAAC,iBAAiB,EAAyB,QAAQ,6BACjD,aAAK,SAAS,CAAC,aAAa,wBAC1B,oBAAKA,WAAW,CAACU,MAAM,EAAM,cAC7B,qBACGlB,gBAAgB,CAACQ,WAAW,CAACW,MAAM,CAAC,CACpC,CAACjB,IAAI,CAACS,YAAY,sBACNZ,kBAAkB,CAACS,WAAW,CAACY,MAAM,CAAC,CAAE,GACnD,GACA,cACN,aAAK,SAAS,CAAC,QAAQ,wBACrB,oBAAKxB,uBAAuB,CAAC,KAAK,CAAEY,WAAW,CAACa,MAAM,CAAC,EAAM,cAC7D,aAAK,SAAS,CAAC,QAAQ,wBACrB,sBAAOb,WAAW,CAACc,IAAI,EAAQ,cAC/B,KAAC,cAAc,EACb,SAAS,CAAE,GAAI,CACf,OAAO,CAAE,yBAAMf,mBAAkB,CAACC,WAAW,CAAC,EAAC,CAC/C,SAAS,CAAC,SAAS,uBAEnB,KAAC,QAAQ,IAAG,EACG,GACb,GACF,GArBgBA,WAAW,CAACe,KAAK,CAsBrB,EACrB,CAAC,EACE,CAEV,CAAC,CAED,mBACE,2BACGX,qBAAqB,EAAE,CACvB,CAAC,CAACT,cAAc,EAAI,CAAAE,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAEQ,MAAM,EAAG,CAAC,eAC3C,KAAC,eAAe,EAAC,OAAO,CAAEV,cAAe,sCAC1C,GACA,CAEP,CAAC,CAED,cAAeF,kBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}