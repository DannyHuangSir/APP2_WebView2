{"ast":null,"code":"import _objectSpread from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";/* eslint-disable no-nested-ternary */import uuid from'react-uuid';// import { useDispatch } from 'react-redux';\n// import { setDrawer, setDrawerVisible } from 'stores/reducers/ModalReducer';\nimport AccountCard from'components/AccountCard';import{accountOverviewCardVarient,getCurrenyInfo}from'utilities/Generator';import{startFunc}from'utilities/AppScriptProxy';import{showDrawer}from'utilities/MessageModal';import{FuncID}from'utilities/FuncID';import AccountCardListWrapper from'./AccountCardList.style';import AccountCardGrey from'./AccountCardGrey';/**\r\n * C00100 帳戶總覽之下方帳戶列表元件\r\n * 首先，先過濾帳戶列表，因為：\r\n *   1. 子帳戶、外幣帳戶、證券、貸款會有多個，必須加總起來，且點擊後，會出現下拉式選單。\r\n *      - 只有一個時不會有選單，直接進入下一頁。\r\n *   2. 依照spec，帳戶總覽不呈現社群帳本。\r\n * 最後，再依金額排序。\r\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AccountCardList=function AccountCardList(_ref){var data=_ref.data,isDebt=_ref.isDebt;// const dispatch = useDispatch();\nvar sApplyUrl='https://bankeesit.feib.com.tw/aplfx/D2022110211818?utm_source=OSC01';var fApplyUrl='https://bankeesit.feib.com.tw/aplfx/D2022110211819';var ccApplyUrl='https://appbankee-t.feib.com.tw/bankee_apply/CardApply/CardApply_1';var lApplyUrl='https://bankeesit.feib.com.tw/aplfx/D2022110111798';// 證券 start function\nvar sAccStartFunc=function sAccStartFunc(account,cardColor){startFunc('moreTranscations',{acctBalx:account.balance,accBranch:account.accountNo.slice(0,3),acctId:account.accountNo,acctName:account.alias,acctType:account.type,ccyCd:account.currency,cardColor:cardColor});};// 累加帳戶金額\nvar accumulateBalance=function accumulateBalance(list){return list.reduce(function(accumulate,item){return accumulate+Math.abs(item.balance);},0);};// 子帳戶、外幣帳戶、貸款、證券、信用卡除外\nvar mainList=data.filter(function(account){return account.type!=='C'&&account.type!=='F'&&account.type!=='L'&&account.type!=='S'&&account.type!=='CC';});// 子帳戶，且 只有『存錢計畫』\nvar subAccounts=data.filter(function(account){return account.type==='C'&&account.purpose===2;});if(subAccounts.length>0){mainList.push({type:'C',accountNo:null,balance:accumulateBalance(subAccounts),isEmpty:!!subAccounts[0].isEmpty});// 依金額從大到小排序。\nsubAccounts.sort(function(a,b){return b.balance-a.balance;});}// 無『存錢計畫』顯示透明卡\nif(subAccounts.length===0&&!isDebt){mainList.push({type:'C',accountNo:null,balance:0,isEmpty:true});}// 外幣帳戶\nvar foreignAccounts=data.filter(function(account){return account.type==='F';});if(foreignAccounts.length>0){mainList.push({type:'F',accountNo:foreignAccounts[0].accountNo,balance:accumulateBalance(foreignAccounts),// TODO: 金額為“轉換為台幣後”的加總，目前為數字直接加總\nisEmpty:!!foreignAccounts[0].isEmpty});// 依金額從大到小排序。\nforeignAccounts.sort(function(a,b){return b.balance-a.balance;});}// 證券\nvar stockAccounts=data.filter(function(account){return account.type==='S';});if(stockAccounts.length>0){mainList.push({type:'S',accountNo:null,balance:accumulateBalance(stockAccounts),isEmpty:!!stockAccounts[0].isEmpty});stockAccounts.sort(function(a,b){return b.balance-a.balance;});}// 貸款\nvar loanAccounts=data.filter(function(account){return account.type==='L';});if(loanAccounts.length>0){mainList.push({type:'L',accountNo:null,balance:accumulateBalance(loanAccounts),isEmpty:loanAccounts[0].balance===0});// 依金額從大到小排序。\nloanAccounts.sort(function(a,b){return b.balance-a.balance;});}// 信用卡（檢查金額\nvar ccAccounts=data.filter(function(account){return account.type==='CC';});if(ccAccounts.length>0){mainList.push.apply(mainList,_toConsumableArray(ccAccounts.map(function(account){return _objectSpread({isEmpty:account.balance===0},account);})));}// 總金額，用於計算百分比\nvar totalBalance=accumulateBalance(mainList);// 負債的金額是負值，將金額轉正，以便後續處理。\nmainList.forEach(function(account){account.balance=Math.abs(account.balance);});// 依金額從大到小排序。若金額相同且非同種卡片，排序依照：正：台幣>外幣>證券>子帳號；負：信用卡>貸款\nvar handleSortMainList=function handleSortMainList(a,b){var orderArray=['M','F','S','C','CC','L'];if(a.balance===b.balance){if(a.isEmpty||b.isEmpty){return b.isEmpty&&orderArray.indexOf(a.type)-orderArray.indexOf(b.type);}return orderArray.indexOf(a.type)-orderArray.indexOf(b.type);}return b.balance-a.balance;};mainList.sort(function(a,b){return handleSortMainList(a,b);});// 產生下拉選單(子帳戶／外幣帳戶／貸款 / 證券)\nvar renderSubAccountDrawer=function renderSubAccountDrawer(accounts,funcId){var subTotalBalance=accumulateBalance(accounts);return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'2.4rem',paddingInline:'1.6rem',marginBottom:'4rem'},children:accounts.map(function(card){var cardColor=accountOverviewCardVarient(card.type);var onClick=function onClick(){if(card.type==='S'){sAccStartFunc(card,cardColor);return;}startFunc(funcId,{focusToAccountNo:card.accountNo});// TODO 從 存錢計畫 返回時的處理。\n};var cardName;switch(card.type){case'F':// 外幣帳戶\ncardName=getCurrenyInfo(card.currency).name;break;case'S':// 證券戶\ncardName='證券交割戶';break;case'C':// 子帳戶\ncardName='存錢計畫';break;case'L':// 貸款\ncardName='貸款';break;default:cardName='';break;}return/*#__PURE__*/_jsx(\"button\",{type:\"button\",title:\"\\u524D\\u5F80\".concat(cardName),\"aria-label\":\"\\u524D\\u5F80\".concat(cardName),onClick:onClick,children:/*#__PURE__*/_jsx(AccountCard,_objectSpread({cardName:cardName,percent:subTotalBalance>0?Math.round(card.balance/subTotalBalance*100):0,hasShadow:true,dollarSign:card.currency},card))},uuid());})});};return/*#__PURE__*/_jsxs(AccountCardListWrapper,{children:[mainList.map(function(account){var annotation;var funcID;var cardName;var onClick=function onClick(){return startFunc(funcID);};// TODO 從 存錢計畫 返回時的處理。\nvar cardInfo=accountOverviewCardVarient(account.type);switch(account.type){case'M':// 母帳戶\ncardName='主帳戶';funcID=FuncID.C00300;break;case'F':// 外幣帳戶 數量為1時不開drawer\ncardName='外幣帳戶';funcID=FuncID.C00400;onClick=function onClick(){return account.isEmpty?window.open(fApplyUrl,'_newtab'):foreignAccounts.length===1?startFunc(funcID):showDrawer('選擇帳戶',renderSubAccountDrawer(foreignAccounts,funcID));};break;case'S':// 證券戶\ncardName='證券交割戶';// 證券S 數量為1時不開drawer\nonClick=function onClick(){return account.isEmpty?window.open(sApplyUrl,'_newtab'):stockAccounts.length===1?sAccStartFunc(account,cardInfo.color):showDrawer('選擇帳戶',renderSubAccountDrawer(stockAccounts));};break;case'C':// 子帳戶 數量為1時不開drawer\ncardName='子帳戶';funcID=FuncID.C00600;onClick=function onClick(){return subAccounts.length===1?startFunc(funcID,{focusToAccountNo:subAccounts[0].accountNo}):showDrawer('選擇計畫',renderSubAccountDrawer(subAccounts,funcID));};break;case'CC':// 信用卡\ncardName='信用卡';annotation='已使用額度';funcID=FuncID.C00700;onClick=function onClick(){return account.isEmpty?window.open(ccApplyUrl,'_newtab'):startFunc(funcID);};break;case'L':// 貸款 數量為1時不開drawer\ncardName='貸款';funcID=FuncID.L00100;onClick=function onClick(){return account.isEmpty?window.open(lApplyUrl,'_newtab'):loanAccounts.length===1?startFunc(funcID):showDrawer('選擇計畫',renderSubAccountDrawer(loanAccounts,funcID));};break;default:cardName='';annotation=null;funcID=null;onClick=null;break;}return/*#__PURE__*/_jsx(\"button\",{type:\"button\",title:\"\\u524D\\u5F80\".concat(cardName),\"aria-label\":\"\\u524D\\u5F80\".concat(cardName),onClick:onClick,children:account.isEmpty?/*#__PURE__*/_jsx(AccountCardGrey,{type:account.type}):/*#__PURE__*/_jsx(AccountCard// 會依 card.type 決定顏色。\n,_objectSpread({cardName:cardName,percent:totalBalance>0?Math.round(account.balance/totalBalance*100):0// TODO 可能因為捨進位問題，會不等於100\n,annotation:annotation,hasShadow:true,isShowAccoutNo:!isDebt},account))},uuid());}),!isDebt&&/*#__PURE__*/_jsx(\"p\",{className:\"warning_text\",children:\"\\u964C\\u751F\\u96FB\\u8A71\\u5148\\u6C42\\u8B49\\uFF0C\\u8F49\\u5E33\\u4EA4\\u6613\\u9808\\u8B39\\u614E\"})]});};export default AccountCardList;","map":{"version":3,"names":["uuid","AccountCard","accountOverviewCardVarient","getCurrenyInfo","startFunc","showDrawer","FuncID","AccountCardListWrapper","AccountCardGrey","AccountCardList","data","isDebt","sApplyUrl","fApplyUrl","ccApplyUrl","lApplyUrl","sAccStartFunc","account","cardColor","acctBalx","balance","accBranch","accountNo","slice","acctId","acctName","alias","acctType","type","ccyCd","currency","accumulateBalance","list","reduce","accumulate","item","Math","abs","mainList","filter","subAccounts","purpose","length","push","isEmpty","sort","a","b","foreignAccounts","stockAccounts","loanAccounts","ccAccounts","map","totalBalance","forEach","handleSortMainList","orderArray","indexOf","renderSubAccountDrawer","accounts","funcId","subTotalBalance","display","flexDirection","gap","paddingInline","marginBottom","card","onClick","focusToAccountNo","cardName","name","round","annotation","funcID","cardInfo","C00300","C00400","window","open","color","C00600","C00700","L00100"],"sources":["C:/Users/allen/git/app2-webview/src/pages/C00100_AccountOverview/components/AccountCardList.jsx"],"sourcesContent":["/* eslint-disable no-nested-ternary */\r\nimport uuid from 'react-uuid';\r\n// import { useDispatch } from 'react-redux';\r\n// import { setDrawer, setDrawerVisible } from 'stores/reducers/ModalReducer';\r\n\r\nimport AccountCard from 'components/AccountCard';\r\nimport { accountOverviewCardVarient, getCurrenyInfo } from 'utilities/Generator';\r\nimport { startFunc } from 'utilities/AppScriptProxy';\r\n\r\nimport { showDrawer } from 'utilities/MessageModal';\r\nimport { FuncID } from 'utilities/FuncID';\r\nimport AccountCardListWrapper from './AccountCardList.style';\r\nimport AccountCardGrey from './AccountCardGrey';\r\n\r\n/**\r\n * C00100 帳戶總覽之下方帳戶列表元件\r\n * 首先，先過濾帳戶列表，因為：\r\n *   1. 子帳戶、外幣帳戶、證券、貸款會有多個，必須加總起來，且點擊後，會出現下拉式選單。\r\n *      - 只有一個時不會有選單，直接進入下一頁。\r\n *   2. 依照spec，帳戶總覽不呈現社群帳本。\r\n * 最後，再依金額排序。\r\n */\r\nconst AccountCardList = ({ data, isDebt }) => {\r\n  // const dispatch = useDispatch();\r\n  const sApplyUrl = 'https://bankeesit.feib.com.tw/aplfx/D2022110211818?utm_source=OSC01';\r\n  const fApplyUrl = 'https://bankeesit.feib.com.tw/aplfx/D2022110211819';\r\n  const ccApplyUrl = 'https://appbankee-t.feib.com.tw/bankee_apply/CardApply/CardApply_1';\r\n  const lApplyUrl = 'https://bankeesit.feib.com.tw/aplfx/D2022110111798';\r\n\r\n  // 證券 start function\r\n  const sAccStartFunc = (account, cardColor) => {\r\n    startFunc('moreTranscations', {\r\n      acctBalx: account.balance,\r\n      accBranch: account.accountNo.slice(0, 3),\r\n      acctId: account.accountNo,\r\n      acctName: account.alias,\r\n      acctType: account.type,\r\n      ccyCd: account.currency,\r\n      cardColor,\r\n    });\r\n  };\r\n\r\n  // 累加帳戶金額\r\n  const accumulateBalance = (list) => list.reduce((accumulate, item) => accumulate + Math.abs(item.balance), 0);\r\n\r\n  // 子帳戶、外幣帳戶、貸款、證券、信用卡除外\r\n  const mainList = data.filter((account) => account.type !== 'C' && account.type !== 'F' && account.type !== 'L' && account.type !== 'S' && account.type !== 'CC');\r\n\r\n  // 子帳戶，且 只有『存錢計畫』\r\n  const subAccounts = data.filter((account) => account.type === 'C' && account.purpose === 2);\r\n  if (subAccounts.length > 0) {\r\n    mainList.push({\r\n      type: 'C',\r\n      accountNo: null,\r\n      balance: accumulateBalance(subAccounts),\r\n      isEmpty: !!subAccounts[0].isEmpty,\r\n    });\r\n\r\n    // 依金額從大到小排序。\r\n    subAccounts.sort((a, b) => b.balance - a.balance);\r\n  }\r\n  // 無『存錢計畫』顯示透明卡\r\n  if (subAccounts.length === 0 && !isDebt) {\r\n    mainList.push({\r\n      type: 'C',\r\n      accountNo: null,\r\n      balance: 0,\r\n      isEmpty: true,\r\n    });\r\n  }\r\n\r\n  // 外幣帳戶\r\n  const foreignAccounts = data.filter((account) => account.type === 'F');\r\n  if (foreignAccounts.length > 0) {\r\n    mainList.push({\r\n      type: 'F',\r\n      accountNo: foreignAccounts[0].accountNo,\r\n      balance: accumulateBalance(foreignAccounts), // TODO: 金額為“轉換為台幣後”的加總，目前為數字直接加總\r\n      isEmpty: !!foreignAccounts[0].isEmpty,\r\n    });\r\n\r\n    // 依金額從大到小排序。\r\n    foreignAccounts.sort((a, b) => b.balance - a.balance);\r\n  }\r\n\r\n  // 證券\r\n  const stockAccounts = data.filter((account) => account.type === 'S');\r\n  if (stockAccounts.length > 0) {\r\n    mainList.push({\r\n      type: 'S',\r\n      accountNo: null,\r\n      balance: accumulateBalance(stockAccounts),\r\n      isEmpty: !!stockAccounts[0].isEmpty,\r\n    });\r\n\r\n    stockAccounts.sort((a, b) => b.balance - a.balance);\r\n  }\r\n\r\n  // 貸款\r\n  const loanAccounts = data.filter((account) => account.type === 'L');\r\n  if (loanAccounts.length > 0) {\r\n    mainList.push({\r\n      type: 'L',\r\n      accountNo: null,\r\n      balance: accumulateBalance(loanAccounts),\r\n      isEmpty: loanAccounts[0].balance === 0,\r\n    });\r\n\r\n    // 依金額從大到小排序。\r\n    loanAccounts.sort((a, b) => b.balance - a.balance);\r\n  }\r\n\r\n  // 信用卡（檢查金額\r\n  const ccAccounts = data.filter((account) => account.type === 'CC');\r\n  if (ccAccounts.length > 0) {\r\n    mainList.push(...ccAccounts.map((account) => ({\r\n      isEmpty: account.balance === 0,\r\n      ...account,\r\n    })));\r\n  }\r\n\r\n  // 總金額，用於計算百分比\r\n  const totalBalance = accumulateBalance(mainList);\r\n\r\n  // 負債的金額是負值，將金額轉正，以便後續處理。\r\n  mainList.forEach((account) => { account.balance = Math.abs(account.balance); });\r\n\r\n  // 依金額從大到小排序。若金額相同且非同種卡片，排序依照：正：台幣>外幣>證券>子帳號；負：信用卡>貸款\r\n  const handleSortMainList = (a, b) => {\r\n    const orderArray = ['M', 'F', 'S', 'C', 'CC', 'L'];\r\n    if (a.balance === b.balance) {\r\n      if (a.isEmpty || b.isEmpty) {\r\n        return b.isEmpty && orderArray.indexOf(a.type) - orderArray.indexOf(b.type);\r\n      }\r\n      return orderArray.indexOf(a.type) - orderArray.indexOf(b.type);\r\n    }\r\n    return b.balance - a.balance;\r\n  };\r\n  mainList.sort((a, b) => handleSortMainList(a, b));\r\n\r\n  // 產生下拉選單(子帳戶／外幣帳戶／貸款 / 證券)\r\n  const renderSubAccountDrawer = (accounts, funcId) => {\r\n    const subTotalBalance = accumulateBalance(accounts);\r\n    return (\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          gap: '2.4rem',\r\n          paddingInline: '1.6rem',\r\n          marginBottom: '4rem',\r\n        }}\r\n      >\r\n        {accounts.map((card) => {\r\n          const cardColor = accountOverviewCardVarient(card.type);\r\n          const onClick = () => {\r\n            if (card.type === 'S') {\r\n              sAccStartFunc(card, cardColor);\r\n              return;\r\n            }\r\n            startFunc(funcId, { focusToAccountNo: card.accountNo }); // TODO 從 存錢計畫 返回時的處理。\r\n          };\r\n\r\n          let cardName;\r\n          switch (card.type) {\r\n            case 'F': // 外幣帳戶\r\n              cardName = getCurrenyInfo(card.currency).name;\r\n              break;\r\n            case 'S': // 證券戶\r\n              cardName = '證券交割戶';\r\n              break;\r\n            case 'C': // 子帳戶\r\n              cardName = '存錢計畫';\r\n              break;\r\n            case 'L': // 貸款\r\n              cardName = '貸款';\r\n              break;\r\n            default:\r\n              cardName = '';\r\n              break;\r\n          }\r\n          return (\r\n            <button\r\n              key={uuid()}\r\n              type=\"button\"\r\n              title={`前往${cardName}`}\r\n              aria-label={`前往${cardName}`}\r\n              onClick={onClick}\r\n            >\r\n              <AccountCard\r\n                cardName={cardName}\r\n                percent={subTotalBalance > 0 ? Math.round((card.balance / subTotalBalance) * 100) : 0}\r\n                hasShadow\r\n                dollarSign={card.currency}\r\n                {...card}\r\n              />\r\n            </button>\r\n          );\r\n        }) }\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <AccountCardListWrapper>\r\n      {mainList.map((account) => {\r\n        let annotation;\r\n        let funcID;\r\n        let cardName;\r\n        let onClick = () => startFunc(funcID); // TODO 從 存錢計畫 返回時的處理。\r\n        const cardInfo = accountOverviewCardVarient(account.type);\r\n\r\n        switch (account.type) {\r\n          case 'M': // 母帳戶\r\n            cardName = '主帳戶';\r\n            funcID = FuncID.C00300;\r\n            break;\r\n          case 'F': // 外幣帳戶 數量為1時不開drawer\r\n            cardName = '外幣帳戶';\r\n            funcID = FuncID.C00400;\r\n            onClick = () => (account.isEmpty ? window.open(fApplyUrl, '_newtab') : foreignAccounts.length === 1 ? startFunc(funcID) : showDrawer('選擇帳戶', renderSubAccountDrawer(foreignAccounts, funcID)));\r\n            break;\r\n          case 'S': // 證券戶\r\n            cardName = '證券交割戶';\r\n            // 證券S 數量為1時不開drawer\r\n            onClick = () => (account.isEmpty ? window.open(sApplyUrl, '_newtab') : stockAccounts.length === 1 ? sAccStartFunc(account, cardInfo.color) : showDrawer('選擇帳戶', renderSubAccountDrawer(stockAccounts)));\r\n            break;\r\n\r\n          case 'C': // 子帳戶 數量為1時不開drawer\r\n            cardName = '子帳戶';\r\n            funcID = FuncID.C00600;\r\n            onClick = () => (subAccounts.length === 1 ? startFunc(funcID, { focusToAccountNo: subAccounts[0].accountNo }) : showDrawer('選擇計畫', renderSubAccountDrawer(subAccounts, funcID)));\r\n            break;\r\n          case 'CC': // 信用卡\r\n            cardName = '信用卡';\r\n            annotation = '已使用額度';\r\n            funcID = FuncID.C00700;\r\n            onClick = () => (account.isEmpty ? window.open(ccApplyUrl, '_newtab') : startFunc(funcID));\r\n            break;\r\n          case 'L': // 貸款 數量為1時不開drawer\r\n            cardName = '貸款';\r\n            funcID = FuncID.L00100;\r\n            onClick = () => (account.isEmpty ? window.open(lApplyUrl, '_newtab') : loanAccounts.length === 1 ? startFunc(funcID) : showDrawer('選擇計畫', renderSubAccountDrawer(loanAccounts, funcID)));\r\n            break;\r\n          default:\r\n            cardName = '';\r\n            annotation = null;\r\n            funcID = null;\r\n            onClick = null;\r\n            break;\r\n        }\r\n\r\n        return (\r\n          <button\r\n            key={uuid()}\r\n            type=\"button\"\r\n            title={`前往${cardName}`}\r\n            aria-label={`前往${cardName}`}\r\n            onClick={onClick}\r\n          >\r\n            {account.isEmpty ? <AccountCardGrey type={account.type} /> : (\r\n              <AccountCard // 會依 card.type 決定顏色。\r\n                cardName={cardName}\r\n                percent={totalBalance > 0 ? Math.round((account.balance / totalBalance) * 100) : 0} // TODO 可能因為捨進位問題，會不等於100\r\n                annotation={annotation}\r\n                hasShadow\r\n                isShowAccoutNo={!isDebt}\r\n                {...account}\r\n              />\r\n            )}\r\n\r\n          </button>\r\n        );\r\n      })}\r\n      {!isDebt && <p className=\"warning_text\">陌生電話先求證，轉帳交易須謹慎</p>}\r\n    </AccountCardListWrapper>\r\n  );\r\n};\r\n\r\nexport default AccountCardList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}