{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{DialogTitle,DialogContent}from'@material-ui/core';import{FEIBIconButton,FEIBInput,FEIBInputLabel}from'components/elements';import{CrossIcon}from'assets/images/icons';import theme from'themes/theme';import BankCodeWrapper from'./bankSelector.style';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BankCode=function BankCode(_ref){var banks=_ref.banks,onClose=_ref.onClose,onSelected=_ref.onSelected;var _useState=useState(),_useState2=_slicedToArray(_useState,2),favoriteBankList=_useState2[0],setFavoriteBankList=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),searchValue=_useState4[0],setSearchValue=_useState4[1];/**\r\n   *- 初始化\r\n   */useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setFavoriteBankList(banks.filter(function(b){return b.bankNo==='805';}));// TODO 加入常用銀行清單，存入 localStrorage\ncase 1:case\"end\":return _context.stop();}}},_callee);})),[]);/**\r\n   * 回傳選擇的銀行代碼及名稱。\r\n   * @param {*} bank 選擇的銀行\r\n   */var onBankSelected=function onBankSelected(bank){onClose();onSelected(bank);};/**\r\n   * 依篩選條件列出銀行清單，未設定條件時全部列出。\r\n   */var BankList=function BankList(){var newBanks=banks.filter(function(b){return!searchValue||searchValue===''||b.bankNo.includes(searchValue)||b.bankName.includes(searchValue);});return newBanks.map(function(bank){return/*#__PURE__*/_jsxs(\"li\",{\"data-code\":bank.bankNo,onClick:function onClick(){return onBankSelected(bank);},children:[/*#__PURE__*/_jsx(\"p\",{children:bank.bankName}),/*#__PURE__*/_jsx(\"span\",{children:bank.bankNo})]},bank.bankNo);});};/**\r\n   * HTML輸出。\r\n   */return/*#__PURE__*/_jsxs(BankCodeWrapper,{open:true,onClose:onClose,\"aria-labelledby\":\"taiwan-bank-code-list\",\"aria-describedby\":\"taiwan-bank-code-list\",children:[/*#__PURE__*/_jsxs(DialogTitle,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"title\",children:\"\\u9280\\u884C\\u4EE3\\u78BC\"}),/*#__PURE__*/_jsx(FEIBIconButton,{className:\"closeButton\",onClick:onClose,children:/*#__PURE__*/_jsx(CrossIcon,{size:20,color:theme.colors.text.dark})})]}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u5E38\\u7528\\u9280\\u884C\"}),favoriteBankList===null||favoriteBankList===void 0?void 0:favoriteBankList.map(function(bank){return/*#__PURE__*/_jsxs(\"li\",{\"data-code\":bank.bankNo,onClick:function onClick(){return onBankSelected(bank);},children:[/*#__PURE__*/_jsx(\"p\",{children:bank.bankName}),/*#__PURE__*/_jsx(\"span\",{children:bank.bankNo})]},bank.bankNo);})]}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u9280\\u884C\\u6E05\\u55AE\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"searchCodeArea\",children:[/*#__PURE__*/_jsx(FEIBInputLabel,{children:\"\\u4EE3\\u78BC\\u641C\\u5C0B\"}),/*#__PURE__*/_jsx(FEIBInput,{type:\"text\",placeholder:\"\\u8ACB\\u8F38\\u5165\\u4EE3\\u78BC\\u6216\\u662F\\u9280\\u884C\\u540D\\u7A31\",onChange:function onChange(event){return setSearchValue(event.target.value);}})]}),/*#__PURE__*/_jsx(BankList,{})]})]})]});};export default BankCode;","map":{"version":3,"names":["useState","useEffect","DialogTitle","DialogContent","FEIBIconButton","FEIBInput","FEIBInputLabel","CrossIcon","theme","BankCodeWrapper","BankCode","banks","onClose","onSelected","favoriteBankList","setFavoriteBankList","searchValue","setSearchValue","filter","b","bankNo","onBankSelected","bank","BankList","newBanks","includes","bankName","map","colors","text","dark","event","target","value"],"sources":["C:/Users/allen/git/app2-webview/src/components/BankCodeInput/bankSelector.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { DialogTitle, DialogContent } from '@material-ui/core';\r\nimport { FEIBIconButton, FEIBInput, FEIBInputLabel } from 'components/elements';\r\nimport { CrossIcon } from 'assets/images/icons';\r\nimport theme from 'themes/theme';\r\nimport BankCodeWrapper from './bankSelector.style';\r\n\r\nconst BankCode = ({ banks, onClose, onSelected }) => {\r\n  const [favoriteBankList, setFavoriteBankList] = useState();\r\n  const [searchValue, setSearchValue] = useState();\r\n\r\n  /**\r\n   *- 初始化\r\n   */\r\n  useEffect(async () => {\r\n    setFavoriteBankList(banks.filter((b) => b.bankNo === '805')); // TODO 加入常用銀行清單，存入 localStrorage\r\n  }, []);\r\n\r\n  /**\r\n   * 回傳選擇的銀行代碼及名稱。\r\n   * @param {*} bank 選擇的銀行\r\n   */\r\n  const onBankSelected = (bank) => {\r\n    onClose();\r\n    onSelected(bank);\r\n  };\r\n\r\n  /**\r\n   * 依篩選條件列出銀行清單，未設定條件時全部列出。\r\n   */\r\n  const BankList = () => {\r\n    const newBanks = banks.filter((b) => !searchValue || searchValue === '' || b.bankNo.includes(searchValue) || b.bankName.includes(searchValue));\r\n    return newBanks.map((bank) => (\r\n      <li key={bank.bankNo} data-code={bank.bankNo} onClick={() => onBankSelected(bank)}>\r\n        <p>{bank.bankName}</p>\r\n        <span>{bank.bankNo}</span>\r\n      </li>\r\n    ));\r\n  };\r\n\r\n  /**\r\n   * HTML輸出。\r\n   */\r\n  return (\r\n    <BankCodeWrapper\r\n      open\r\n      onClose={onClose}\r\n      aria-labelledby=\"taiwan-bank-code-list\"\r\n      aria-describedby=\"taiwan-bank-code-list\"\r\n    >\r\n      <DialogTitle>\r\n        <span className=\"title\">銀行代碼</span>\r\n        <FEIBIconButton className=\"closeButton\" onClick={onClose}>\r\n          <CrossIcon size={20} color={theme.colors.text.dark} />\r\n        </FEIBIconButton>\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <ul>\r\n          <li>常用銀行</li>\r\n          { favoriteBankList?.map((bank) => (\r\n            <li key={bank.bankNo} data-code={bank.bankNo} onClick={() => onBankSelected(bank)}>\r\n              <p>{bank.bankName}</p>\r\n              <span>{bank.bankNo}</span>\r\n            </li>\r\n          )) }\r\n        </ul>\r\n\r\n        <ul>\r\n          <li>銀行清單</li>\r\n          <div className=\"searchCodeArea\">\r\n            <FEIBInputLabel>代碼搜尋</FEIBInputLabel>\r\n            <FEIBInput\r\n              type=\"text\"\r\n              placeholder=\"請輸入代碼或是銀行名稱\"\r\n              onChange={(event) => setSearchValue(event.target.value)}\r\n            />\r\n          </div>\r\n          <BankList />\r\n        </ul>\r\n      </DialogContent>\r\n    </BankCodeWrapper>\r\n  );\r\n};\r\n\r\nexport default BankCode;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}