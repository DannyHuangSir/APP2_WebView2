{"ast":null,"code":"import _objectSpread from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect}from'react';import{useForm}from'react-hook-form';import{yupResolver}from'@hookform/resolvers/yup';import{FEIBButton,FEIBInputLabel}from'components/elements';import{DropdownField,TextInputField}from'components/Fields';import{useLocationOptions}from'hooks/useLocationOptions';import{LossReissueDialogWrapper}from'./S00800.style';import{validationSchema}from'./validationSchema';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var S00800_1=function S00800_1(_ref){var currentFormValue=_ref.currentFormValue,onSubmit=_ref.onSubmit;var _useForm=useForm({resolver:yupResolver(validationSchema),defaultValues:currentFormValue}),control=_useForm.control,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset,watch=_useForm.watch,getValues=_useForm.getValues;var watchedCountyName=watch('county');var _useLocationOptions=useLocationOptions(watchedCountyName),countyOptions=_useLocationOptions.countyOptions,districtOptions=_useLocationOptions.districtOptions;useEffect(function(){if(watchedCountyName!==currentFormValue.county){reset(_objectSpread(_objectSpread({},getValues()),{},{city:''}));}},[watchedCountyName]);return/*#__PURE__*/_jsx(LossReissueDialogWrapper,{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"formContent\",children:[/*#__PURE__*/_jsx(FEIBInputLabel,{children:\"\\u901A\\u8A0A\\u5730\\u5740\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"formElementGroup\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(DropdownField,{options:countyOptions,name:\"county\",control:control})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(DropdownField,{options:districtOptions,name:\"city\",control:control})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(TextInputField,{labelName:\"\\u5730\\u5740\",name:\"addr\",control:control})})]}),/*#__PURE__*/_jsx(FEIBButton,{onClick:handleSubmit(onSubmit),children:\"\\u78BA\\u8A8D\"})]})});};","map":{"version":3,"names":["React","useEffect","useForm","yupResolver","FEIBButton","FEIBInputLabel","DropdownField","TextInputField","useLocationOptions","LossReissueDialogWrapper","validationSchema","S00800_1","currentFormValue","onSubmit","resolver","defaultValues","control","handleSubmit","reset","watch","getValues","watchedCountyName","countyOptions","districtOptions","county","city"],"sources":["C:/Users/allen/git/app2-webview/src/pages/S00800_LossReissue/S00800_1.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport {useForm} from 'react-hook-form';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\n\r\nimport { FEIBButton, FEIBInputLabel } from 'components/elements';\r\nimport { DropdownField, TextInputField } from 'components/Fields';\r\n\r\nimport { useLocationOptions } from 'hooks/useLocationOptions';\r\nimport { LossReissueDialogWrapper } from './S00800.style';\r\nimport { validationSchema } from './validationSchema';\r\n\r\nexport const S00800_1 = ({currentFormValue, onSubmit}) => {\r\n  const {\r\n    control, handleSubmit, reset, watch, getValues,\r\n  } = useForm({\r\n    resolver: yupResolver(validationSchema),\r\n    defaultValues: currentFormValue,\r\n  });\r\n\r\n  const watchedCountyName = watch('county');\r\n  const { countyOptions, districtOptions } = useLocationOptions(watchedCountyName);\r\n\r\n  useEffect(() => {\r\n    if (watchedCountyName !== currentFormValue.county) {\r\n      reset({ ...getValues(), city: '' });\r\n    }\r\n  }, [watchedCountyName]);\r\n\r\n  return (\r\n    <LossReissueDialogWrapper>\r\n      <form>\r\n        <div className=\"formContent\">\r\n          <FEIBInputLabel>通訊地址</FEIBInputLabel>\r\n          <div className=\"formElementGroup\">\r\n            <div>\r\n              <DropdownField\r\n                options={countyOptions}\r\n                name=\"county\"\r\n                control={control}\r\n              />\r\n            </div>\r\n            <div>\r\n              <DropdownField\r\n                options={districtOptions}\r\n                name=\"city\"\r\n                control={control}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <TextInputField labelName=\"地址\" name=\"addr\" control={control} />\r\n          </div>\r\n        </div>\r\n        <FEIBButton onClick={handleSubmit(onSubmit)}>確認</FEIBButton>\r\n      </form>\r\n    </LossReissueDialogWrapper>\r\n  );\r\n};\r\n"],"mappings":"oHAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAAQC,OAAO,KAAO,iBAAiB,CACvC,OAASC,WAAW,KAAQ,yBAAyB,CAErD,OAASC,UAAU,CAAEC,cAAc,KAAQ,qBAAqB,CAChE,OAASC,aAAa,CAAEC,cAAc,KAAQ,mBAAmB,CAEjE,OAASC,kBAAkB,KAAQ,0BAA0B,CAC7D,OAASC,wBAAwB,KAAQ,gBAAgB,CACzD,OAASC,gBAAgB,KAAQ,oBAAoB,CAAC,wFAEtD,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAQ,MAAqC,IAAhCC,iBAAgB,MAAhBA,gBAAgB,CAAEC,QAAQ,MAARA,QAAQ,CAClD,aAEIX,OAAO,CAAC,CACVY,QAAQ,CAAEX,WAAW,CAACO,gBAAgB,CAAC,CACvCK,aAAa,CAAEH,gBACjB,CAAC,CAAC,CAJAI,OAAO,UAAPA,OAAO,CAAEC,YAAY,UAAZA,YAAY,CAAEC,KAAK,UAALA,KAAK,CAAEC,KAAK,UAALA,KAAK,CAAEC,SAAS,UAATA,SAAS,CAMhD,GAAMC,kBAAiB,CAAGF,KAAK,CAAC,QAAQ,CAAC,CACzC,wBAA2CX,kBAAkB,CAACa,iBAAiB,CAAC,CAAxEC,aAAa,qBAAbA,aAAa,CAAEC,eAAe,qBAAfA,eAAe,CAEtCtB,SAAS,CAAC,UAAM,CACd,GAAIoB,iBAAiB,GAAKT,gBAAgB,CAACY,MAAM,CAAE,CACjDN,KAAK,gCAAME,SAAS,EAAE,MAAEK,IAAI,CAAE,EAAE,GAAG,CACrC,CACF,CAAC,CAAE,CAACJ,iBAAiB,CAAC,CAAC,CAEvB,mBACE,KAAC,wBAAwB,wBACvB,qCACE,aAAK,SAAS,CAAC,aAAa,wBAC1B,KAAC,cAAc,uCAAsB,cACrC,aAAK,SAAS,CAAC,kBAAkB,wBAC/B,kCACE,KAAC,aAAa,EACZ,OAAO,CAAEC,aAAc,CACvB,IAAI,CAAC,QAAQ,CACb,OAAO,CAAEN,OAAQ,EACjB,EACE,cACN,kCACE,KAAC,aAAa,EACZ,OAAO,CAAEO,eAAgB,CACzB,IAAI,CAAC,MAAM,CACX,OAAO,CAAEP,OAAQ,EACjB,EACE,GACF,cACN,kCACE,KAAC,cAAc,EAAC,SAAS,CAAC,cAAI,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAEA,OAAQ,EAAG,EAC3D,GACF,cACN,KAAC,UAAU,EAAC,OAAO,CAAEC,YAAY,CAACJ,QAAQ,CAAE,0BAAgB,GACvD,EACkB,CAE/B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}