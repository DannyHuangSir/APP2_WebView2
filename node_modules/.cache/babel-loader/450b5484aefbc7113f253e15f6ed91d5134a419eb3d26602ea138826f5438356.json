{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useDispatch}from'react-redux';import{useEffect,useState}from'react';import parse from'html-react-parser';import{setWaittingVisible}from'stores/reducers/ModalReducer';import{getQACategory,getQASubCategory}from'pages/S00600_QandA/api';/* Elements */import Layout from'components/Layout/Layout';import{FEIBTabContext,FEIBTabList,FEIBTab}from'components/elements';import Accordion from'components/Accordion';/* Styles */import QandAWrapper from'./QandA.style';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var QandA=function QandA(){var dispatch=useDispatch();var _useState=useState(),_useState2=_slicedToArray(_useState,2),tabs=_useState2[0],setTabs=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),tabValue=_useState4[0],setTabValue=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),categoryData=_useState6[0],setCategoryData=_useState6[1];useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var categories;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(setWaittingVisible(true));_context.next=3;return getQACategory();case 3:categories=_context.sent;setTabs(categories);setTabValue(categories[0]);dispatch(setWaittingVisible(false));case 7:case\"end\":return _context.stop();}}},_callee);})),[]);useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!tabValue){_context2.next=6;break;}_context2.next=3;return getQASubCategory({cat:tabValue});case 3:_context2.t0=_context2.sent;_context2.next=7;break;case 6:_context2.t0=null;case 7:data=_context2.t0;setCategoryData(data);case 9:case\"end\":return _context2.stop();}}},_callee2);})),[tabValue]);var QAContent=function QAContent(){return/*#__PURE__*/_jsx(_Fragment,{children:categoryData===null||categoryData===void 0?void 0:categoryData.map(function(category){var _category$subItems;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"subTitle\",children:category.title}),/*#__PURE__*/_jsx(\"div\",{children:(_category$subItems=category.subItems)===null||_category$subItems===void 0?void 0:_category$subItems.map(function(subItem){return/*#__PURE__*/_jsx(Accordion,{title:subItem.question,className:\"customAccordion\",children:parse(subItem.answer.replace(/\\u2028/gi,''))},subItem.question);})})]},category.title);})});};return/*#__PURE__*/_jsx(Layout,{title:\"\\u5E38\\u898B\\u554F\\u984C\",children:/*#__PURE__*/_jsx(QandAWrapper,{children:/*#__PURE__*/_jsxs(FEIBTabContext,{value:tabValue,children:[/*#__PURE__*/_jsx(FEIBTabList,{onChange:function onChange(e,type){return setTabValue(type);},$size:\"small\",$type:\"fixed\",children:tabs===null||tabs===void 0?void 0:tabs.map(function(item){return/*#__PURE__*/_jsx(FEIBTab,{label:item,value:item},item);})}),/*#__PURE__*/_jsx(QAContent,{})]})})});};export default QandA;","map":{"version":3,"names":["useDispatch","useEffect","useState","parse","setWaittingVisible","getQACategory","getQASubCategory","Layout","FEIBTabContext","FEIBTabList","FEIBTab","Accordion","QandAWrapper","QandA","dispatch","tabs","setTabs","tabValue","setTabValue","categoryData","setCategoryData","categories","cat","data","QAContent","map","category","title","subItems","subItem","question","answer","replace","e","type","item"],"sources":["C:/Users/allen/git/app2-webview/src/pages/S00600_QandA/index.js"],"sourcesContent":["import { useDispatch } from 'react-redux';\r\nimport { useEffect, useState } from 'react';\r\nimport parse from 'html-react-parser';\r\nimport { setWaittingVisible } from 'stores/reducers/ModalReducer';\r\nimport { getQACategory, getQASubCategory } from 'pages/S00600_QandA/api';\r\n\r\n/* Elements */\r\nimport Layout from 'components/Layout/Layout';\r\nimport {\r\n  FEIBTabContext,\r\n  FEIBTabList,\r\n  FEIBTab,\r\n} from 'components/elements';\r\nimport Accordion from 'components/Accordion';\r\n\r\n/* Styles */\r\nimport QandAWrapper from './QandA.style';\r\n\r\nconst QandA = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const [tabs, setTabs] = useState();\r\n  const [tabValue, setTabValue] = useState();\r\n  const [categoryData, setCategoryData] = useState();\r\n\r\n  useEffect(async () => {\r\n    dispatch(setWaittingVisible(true));\r\n\r\n    const categories = await getQACategory();\r\n    setTabs(categories);\r\n    setTabValue(categories[0]);\r\n\r\n    dispatch(setWaittingVisible(false));\r\n  }, []);\r\n\r\n  useEffect(async () => {\r\n    const data = (tabValue) ? await getQASubCategory({ cat: tabValue }) : null;\r\n    setCategoryData(data);\r\n  }, [tabValue]);\r\n\r\n  const QAContent = () => (\r\n    <>\r\n      {categoryData?.map((category) => (\r\n        <div key={category.title}>\r\n          <div className=\"subTitle\">\r\n            { category.title }\r\n          </div>\r\n\r\n          <div>\r\n            {category.subItems?.map((subItem) => (\r\n              <Accordion title={subItem.question} key={subItem.question} className=\"customAccordion\">\r\n                { parse(subItem.answer.replace(/\\u2028/gi, '')) }\r\n              </Accordion>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <Layout title=\"常見問題\">\r\n      <QandAWrapper>\r\n        <FEIBTabContext value={tabValue}>\r\n          <FEIBTabList onChange={(e, type) => setTabValue(type)} $size=\"small\" $type=\"fixed\">\r\n            {tabs?.map((item) => (<FEIBTab key={item} label={item} value={item} />))}\r\n          </FEIBTabList>\r\n\r\n          <QAContent />\r\n        </FEIBTabContext>\r\n      </QandAWrapper>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default QandA;\r\n"],"mappings":"+WAAA,OAASA,WAAW,KAAQ,aAAa,CACzC,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAOC,MAAK,KAAM,mBAAmB,CACrC,OAASC,kBAAkB,KAAQ,8BAA8B,CACjE,OAASC,aAAa,CAAEC,gBAAgB,KAAQ,wBAAwB,CAExE,cACA,MAAOC,OAAM,KAAM,0BAA0B,CAC7C,OACEC,cAAc,CACdC,WAAW,CACXC,OAAO,KACF,qBAAqB,CAC5B,MAAOC,UAAS,KAAM,sBAAsB,CAE5C,YACA,MAAOC,aAAY,KAAM,eAAe,CAAC,6IAEzC,GAAMC,MAAK,CAAG,QAARA,MAAK,EAAS,CAClB,GAAMC,SAAQ,CAAGd,WAAW,EAAE,CAE9B,cAAwBE,QAAQ,EAAE,wCAA3Ba,IAAI,eAAEC,OAAO,eACpB,eAAgCd,QAAQ,EAAE,yCAAnCe,QAAQ,eAAEC,WAAW,eAC5B,eAAwChB,QAAQ,EAAE,yCAA3CiB,YAAY,eAAEC,eAAe,eAEpCnB,SAAS,wEAAC,oJACRa,QAAQ,CAACV,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAAC,sBAEVC,cAAa,EAAE,QAAlCgB,UAAU,eAChBL,OAAO,CAACK,UAAU,CAAC,CACnBH,WAAW,CAACG,UAAU,CAAC,CAAC,CAAC,CAAC,CAE1BP,QAAQ,CAACV,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC,sDACrC,GAAE,EAAE,CAAC,CAENH,SAAS,wEAAC,uJACMgB,QAAQ,iDAAUX,iBAAgB,CAAC,CAAEgB,GAAG,CAAEL,QAAS,CAAC,CAAC,+EAAG,IAAI,QAApEM,IAAI,cACVH,eAAe,CAACG,IAAI,CAAC,CAAC,wDACvB,GAAE,CAACN,QAAQ,CAAC,CAAC,CAEd,GAAMO,UAAS,CAAG,QAAZA,UAAS,sBACb,yBACGL,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAEM,GAAG,CAAC,SAACC,QAAQ,4CAC1B,oCACE,YAAK,SAAS,CAAC,UAAU,UACrBA,QAAQ,CAACC,KAAK,EACZ,cAEN,yCACGD,QAAQ,CAACE,QAAQ,6CAAjB,mBAAmBH,GAAG,CAAC,SAACI,OAAO,qBAC9B,KAAC,SAAS,EAAC,KAAK,CAAEA,OAAO,CAACC,QAAS,CAAwB,SAAS,CAAC,iBAAiB,UAClF3B,KAAK,CAAC0B,OAAO,CAACE,MAAM,CAACC,OAAO,CAAC,UAAU,CAAE,EAAE,CAAC,CAAC,EADRH,OAAO,CAACC,QAAQ,CAE7C,EACb,CAAC,EACE,GAXEJ,QAAQ,CAACC,KAAK,CAYlB,EACP,CAAC,EACD,EACJ,CAED,mBACE,KAAC,MAAM,EAAC,KAAK,CAAC,0BAAM,uBAClB,KAAC,YAAY,wBACX,MAAC,cAAc,EAAC,KAAK,CAAEV,QAAS,wBAC9B,KAAC,WAAW,EAAC,QAAQ,CAAE,kBAACgB,CAAC,CAAEC,IAAI,QAAKhB,YAAW,CAACgB,IAAI,CAAC,EAAC,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,UAC/EnB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEU,GAAG,CAAC,SAACU,IAAI,qBAAM,KAAC,OAAO,EAAY,KAAK,CAAEA,IAAK,CAAC,KAAK,CAAEA,IAAK,EAA/BA,IAAI,CAA8B,EAAC,CAAC,EAC5D,cAEd,KAAC,SAAS,IAAG,GACE,EACJ,EACR,CAEb,CAAC,CAED,cAAetB,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}