{"ast":null,"code":"import*as yup from'yup';import{AMOUNT_OPTION}from'./constants';export var generateValidationSchema=function generateValidationSchema(bills){return yup.object().shape({paymentMethod:yup.string().required('請選擇繳款方式'),amountOptions:yup.string().required('請選擇繳款金額'),customAmount:yup.number().when('amountOptions',function(amountOptions,s){return amountOptions===AMOUNT_OPTION.CUSTOM&&!!bills?s.required('請填入自訂金額').typeError('請填入自訂金額').max(// bills 應該要存在，若不存在的話，在 R00400 會直接導向首頁，讓使用者無法使用表單\n(bills===null||bills===void 0?void 0:bills.newBalance)||10000000,'繳款金額需介於最低應繳金額和本期應繳金額之間').min(bills.minDueAmount||10000000,'繳款金額需介於最低應繳金額和本期應繳金額之間'):s.nullable();}),accountNo:yup.string().when('paymentMethod',function(method,s){return method==='self'?s.required('請選擇轉出帳號'):s.notRequired();}),bankId:yup.string().when('paymentMethod',function(method,s){return method==='external'?s.required('請選擇銀行代碼'):s.notRequired();}),extAccountNo:yup.string().when('paymentMethod',function(method,s){return method==='external'?s.matches(/\\d{12,16}/,'轉出帳號格式有誤，請重新檢查。').required('請選擇轉出帳號'):s.nullable();})});};","map":{"version":3,"names":["yup","AMOUNT_OPTION","generateValidationSchema","bills","object","shape","paymentMethod","string","required","amountOptions","customAmount","number","when","s","CUSTOM","typeError","max","newBalance","min","minDueAmount","nullable","accountNo","method","notRequired","bankId","extAccountNo","matches"],"sources":["C:/Users/allen/git/app2-webview/src/pages/R00400_CCPayment/validationSchema.js"],"sourcesContent":["import * as yup from 'yup';\r\nimport { AMOUNT_OPTION } from './constants';\r\n\r\nexport const generateValidationSchema = (bills) => yup.object().shape({\r\n  paymentMethod: yup.string().required('請選擇繳款方式'),\r\n  amountOptions: yup.string().required('請選擇繳款金額'),\r\n  customAmount: yup.number().when('amountOptions', (amountOptions, s) => (amountOptions === AMOUNT_OPTION.CUSTOM && !!bills\r\n    ? s\r\n      .required('請填入自訂金額')\r\n      .typeError('請填入自訂金額')\r\n      .max(\r\n        // bills 應該要存在，若不存在的話，在 R00400 會直接導向首頁，讓使用者無法使用表單\r\n        bills?.newBalance || 10000000,\r\n        '繳款金額需介於最低應繳金額和本期應繳金額之間',\r\n      )\r\n      .min(\r\n        bills.minDueAmount || 10000000,\r\n        '繳款金額需介於最低應繳金額和本期應繳金額之間',\r\n      )\r\n    : s.nullable())),\r\n  accountNo: yup\r\n    .string()\r\n    .when('paymentMethod', (method, s) => (method === 'self' ? s.required('請選擇轉出帳號') : s.notRequired())),\r\n  bankId: yup\r\n    .string()\r\n    .when('paymentMethod', (method, s) => (method === 'external' ? s.required('請選擇銀行代碼') : s.notRequired())),\r\n  extAccountNo: yup\r\n    .string()\r\n    .when('paymentMethod', (method, s) => (method === 'external'\r\n      ? s\r\n        .matches(/\\d{12,16}/, '轉出帳號格式有誤，請重新檢查。')\r\n        .required('請選擇轉出帳號')\r\n      : s.nullable())),\r\n});\r\n"],"mappings":"AAAA,MAAO,GAAKA,IAAG,KAAM,KAAK,CAC1B,OAASC,aAAa,KAAQ,aAAa,CAE3C,MAAO,IAAMC,yBAAwB,CAAG,QAA3BA,yBAAwB,CAAIC,KAAK,QAAKH,IAAG,CAACI,MAAM,EAAE,CAACC,KAAK,CAAC,CACpEC,aAAa,CAAEN,GAAG,CAACO,MAAM,EAAE,CAACC,QAAQ,CAAC,SAAS,CAAC,CAC/CC,aAAa,CAAET,GAAG,CAACO,MAAM,EAAE,CAACC,QAAQ,CAAC,SAAS,CAAC,CAC/CE,YAAY,CAAEV,GAAG,CAACW,MAAM,EAAE,CAACC,IAAI,CAAC,eAAe,CAAE,SAACH,aAAa,CAAEI,CAAC,QAAMJ,cAAa,GAAKR,aAAa,CAACa,MAAM,EAAI,CAAC,CAACX,KAAK,CACrHU,CAAC,CACAL,QAAQ,CAAC,SAAS,CAAC,CACnBO,SAAS,CAAC,SAAS,CAAC,CACpBC,GAAG,CACF;AACA,CAAAb,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEc,UAAU,GAAI,QAAQ,CAC7B,wBAAwB,CACzB,CACAC,GAAG,CACFf,KAAK,CAACgB,YAAY,EAAI,QAAQ,CAC9B,wBAAwB,CACzB,CACDN,CAAC,CAACO,QAAQ,EAAE,EAAC,CAAC,CAClBC,SAAS,CAAErB,GAAG,CACXO,MAAM,EAAE,CACRK,IAAI,CAAC,eAAe,CAAE,SAACU,MAAM,CAAET,CAAC,QAAMS,OAAM,GAAK,MAAM,CAAGT,CAAC,CAACL,QAAQ,CAAC,SAAS,CAAC,CAAGK,CAAC,CAACU,WAAW,EAAE,EAAC,CAAC,CACtGC,MAAM,CAAExB,GAAG,CACRO,MAAM,EAAE,CACRK,IAAI,CAAC,eAAe,CAAE,SAACU,MAAM,CAAET,CAAC,QAAMS,OAAM,GAAK,UAAU,CAAGT,CAAC,CAACL,QAAQ,CAAC,SAAS,CAAC,CAAGK,CAAC,CAACU,WAAW,EAAE,EAAC,CAAC,CAC1GE,YAAY,CAAEzB,GAAG,CACdO,MAAM,EAAE,CACRK,IAAI,CAAC,eAAe,CAAE,SAACU,MAAM,CAAET,CAAC,QAAMS,OAAM,GAAK,UAAU,CACxDT,CAAC,CACAa,OAAO,CAAC,WAAW,CAAE,iBAAiB,CAAC,CACvClB,QAAQ,CAAC,SAAS,CAAC,CACpBK,CAAC,CAACO,QAAQ,EAAE,EAAC,CACrB,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}