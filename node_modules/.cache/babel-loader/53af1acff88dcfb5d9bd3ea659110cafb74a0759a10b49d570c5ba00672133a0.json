{"ast":null,"code":"import _slicedToArray from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{countdownTimerFormatter}from'utilities/Generator';import CountDownWrapper from'./countDown.style';import{jsx as _jsx}from\"react/jsx-runtime\";var CountDown=function CountDown(_ref){var _ref$minute=_ref.minute,minute=_ref$minute===void 0?5:_ref$minute,onEnd=_ref.onEnd,replay=_ref.replay;var _useState=useState(minute*60),_useState2=_slicedToArray(_useState,2),countSec=_useState2[0],setCountSec=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),triggerCountDown=_useState4[0],setTriggerCountDown=_useState4[1];useEffect(function(){var countDown=setInterval(function(){if(triggerCountDown)setCountSec(function(sec){return sec-1;});},1000);return function(){return clearInterval(countDown);};},[triggerCountDown]);useEffect(function(){if(countSec===0){setTriggerCountDown(false);onEnd();}},[countSec]);useEffect(function(){if(replay){setCountSec(minute*60);setTriggerCountDown(true);}},[replay]);return/*#__PURE__*/_jsx(CountDownWrapper,{children:countSec&&countdownTimerFormatter(countSec)});};export default CountDown;","map":{"version":3,"names":["useState","useEffect","countdownTimerFormatter","CountDownWrapper","CountDown","minute","onEnd","replay","countSec","setCountSec","triggerCountDown","setTriggerCountDown","countDown","setInterval","sec","clearInterval"],"sources":["C:/Users/allen/git/app2-webview/src/components/CountDown/index.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { countdownTimerFormatter } from 'utilities/Generator';\r\nimport CountDownWrapper from './countDown.style';\r\n\r\nconst CountDown = ({ minute = 5, onEnd, replay }) => {\r\n  const [countSec, setCountSec] = useState(minute * 60);\r\n  const [triggerCountDown, setTriggerCountDown] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const countDown = setInterval(() => {\r\n      if (triggerCountDown) setCountSec((sec) => sec - 1);\r\n    }, 1000);\r\n\r\n    return () => clearInterval(countDown);\r\n  }, [triggerCountDown]);\r\n\r\n  useEffect(() => {\r\n    if (countSec === 0) {\r\n      setTriggerCountDown(false);\r\n      onEnd();\r\n    }\r\n  }, [countSec]);\r\n\r\n  useEffect(() => {\r\n    if (replay) {\r\n      setCountSec(minute * 60);\r\n      setTriggerCountDown(true);\r\n    }\r\n  }, [replay]);\r\n\r\n  return (\r\n    <CountDownWrapper>\r\n      { countSec && countdownTimerFormatter(countSec) }\r\n    </CountDownWrapper>\r\n  );\r\n};\r\n\r\nexport default CountDown;\r\n"],"mappings":"qHAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,uBAAuB,KAAQ,qBAAqB,CAC7D,MAAOC,iBAAgB,KAAM,mBAAmB,CAAC,2CAEjD,GAAMC,UAAS,CAAG,QAAZA,UAAS,MAAsC,sBAAhCC,MAAM,CAANA,MAAM,sBAAG,CAAC,aAAEC,KAAK,MAALA,KAAK,CAAEC,MAAM,MAANA,MAAM,CAC5C,cAAgCP,QAAQ,CAACK,MAAM,CAAG,EAAE,CAAC,wCAA9CG,QAAQ,eAAEC,WAAW,eAC5B,eAAgDT,QAAQ,CAAC,IAAI,CAAC,yCAAvDU,gBAAgB,eAAEC,mBAAmB,eAE5CV,SAAS,CAAC,UAAM,CACd,GAAMW,UAAS,CAAGC,WAAW,CAAC,UAAM,CAClC,GAAIH,gBAAgB,CAAED,WAAW,CAAC,SAACK,GAAG,QAAKA,IAAG,CAAG,CAAC,GAAC,CACrD,CAAC,CAAE,IAAI,CAAC,CAER,MAAO,kBAAMC,cAAa,CAACH,SAAS,CAAC,GACvC,CAAC,CAAE,CAACF,gBAAgB,CAAC,CAAC,CAEtBT,SAAS,CAAC,UAAM,CACd,GAAIO,QAAQ,GAAK,CAAC,CAAE,CAClBG,mBAAmB,CAAC,KAAK,CAAC,CAC1BL,KAAK,EAAE,CACT,CACF,CAAC,CAAE,CAACE,QAAQ,CAAC,CAAC,CAEdP,SAAS,CAAC,UAAM,CACd,GAAIM,MAAM,CAAE,CACVE,WAAW,CAACJ,MAAM,CAAG,EAAE,CAAC,CACxBM,mBAAmB,CAAC,IAAI,CAAC,CAC3B,CACF,CAAC,CAAE,CAACJ,MAAM,CAAC,CAAC,CAEZ,mBACE,KAAC,gBAAgB,WACbC,QAAQ,EAAIN,uBAAuB,CAACM,QAAQ,CAAC,EAC9B,CAEvB,CAAC,CAED,cAAeJ,UAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}