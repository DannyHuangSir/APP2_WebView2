{"ast":null,"code":"import _slicedToArray from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import DeleteIcon from'assets/images/icons/deleteIcon.svg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MessageItem=function MessageItem(_ref){var item=_ref.item,deleteClick=_ref.deleteClick,readClick=_ref.readClick;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),startX=_useState2[0],setStartX=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),endX=_useState4[0],setEndX=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showActions=_useState6[0],setShowActions=_useState6[1];var handleTouchStart=function handleTouchStart(event){setStartX(event.targetTouches[0].clientX);};var handleTouchMove=function handleTouchMove(event){setEndX(event.targetTouches[0].clientX);};var handleTouchEnd=function handleTouchEnd(){// 點擊時endX為0，亦排除\nvar show=endX-startX<0&&endX!==0;setShowActions(show);// 清除前次紀錄狀態\nsetEndX(0);setStartX(0);};return/*#__PURE__*/_jsxs(\"div\",{className:\"notifyItem \".concat((item===null||item===void 0?void 0:item.status)==='R'?'':'newMsg'),onTouchStart:handleTouchStart,onTouchMove:handleTouchMove,onTouchEnd:handleTouchEnd,onClick:readClick,children:[/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"notifyTitle\",children:decodeURIComponent(escape(window.atob(item===null||item===void 0?void 0:item.msgOutline)))}),/*#__PURE__*/_jsx(\"div\",{className:\"notifyTime\",children:item===null||item===void 0?void 0:item.sendTime})]}),/*#__PURE__*/_jsx(\"section\",{className:\"notifyContent\",children:decodeURIComponent(escape(window.atob(item.msgContent)))}),/*#__PURE__*/_jsxs(\"div\",{className:\"deleteBtn \".concat(showActions?'':'hide'),onClick:deleteClick,children:[/*#__PURE__*/_jsx(\"img\",{src:DeleteIcon,alt:\"\"}),\"\\u522A\\u9664\"]})]});};export default MessageItem;","map":{"version":3,"names":["useState","DeleteIcon","MessageItem","item","deleteClick","readClick","startX","setStartX","endX","setEndX","showActions","setShowActions","handleTouchStart","event","targetTouches","clientX","handleTouchMove","handleTouchEnd","show","status","decodeURIComponent","escape","window","atob","msgOutline","sendTime","msgContent"],"sources":["C:/Users/allen/git/app2-webview/src/pages/B00300_Notice/messageItem.js"],"sourcesContent":["import { useState } from 'react';\r\nimport DeleteIcon from 'assets/images/icons/deleteIcon.svg';\r\n\r\nconst MessageItem = ({ item, deleteClick, readClick }) => {\r\n  const [startX, setStartX] = useState(0);\r\n  const [endX, setEndX] = useState(0);\r\n  const [showActions, setShowActions] = useState(false);\r\n\r\n  const handleTouchStart = (event) => {\r\n    setStartX(event.targetTouches[0].clientX);\r\n  };\r\n\r\n  const handleTouchMove = (event) => {\r\n    setEndX(event.targetTouches[0].clientX);\r\n  };\r\n\r\n  const handleTouchEnd = () => {\r\n    // 點擊時endX為0，亦排除\r\n    const show = endX - startX < 0 && endX !== 0;\r\n    setShowActions(show);\r\n\r\n    // 清除前次紀錄狀態\r\n    setEndX(0);\r\n    setStartX(0);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`notifyItem ${item?.status === 'R' ? '' : 'newMsg'}`}\r\n      onTouchStart={handleTouchStart}\r\n      onTouchMove={handleTouchMove}\r\n      onTouchEnd={handleTouchEnd}\r\n      onClick={readClick}\r\n    >\r\n      <section>\r\n        <div className=\"notifyTitle\">{ decodeURIComponent(escape(window.atob(item?.msgOutline))) }</div>\r\n        <div className=\"notifyTime\">{ item?.sendTime }</div>\r\n      </section>\r\n      <section className=\"notifyContent\">\r\n        { decodeURIComponent(escape(window.atob(item.msgContent))) }\r\n      </section>\r\n      <div\r\n        className={`deleteBtn ${showActions ? '' : 'hide'}`}\r\n        onClick={deleteClick}\r\n      >\r\n        <img src={DeleteIcon} alt=\"\" />\r\n        刪除\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessageItem;\r\n"],"mappings":"qHAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAOC,WAAU,KAAM,oCAAoC,CAAC,wFAE5D,GAAMC,YAAW,CAAG,QAAdA,YAAW,MAAyC,IAAnCC,KAAI,MAAJA,IAAI,CAAEC,WAAW,MAAXA,WAAW,CAAEC,SAAS,MAATA,SAAS,CACjD,cAA4BL,QAAQ,CAAC,CAAC,CAAC,wCAAhCM,MAAM,eAAEC,SAAS,eACxB,eAAwBP,QAAQ,CAAC,CAAC,CAAC,yCAA5BQ,IAAI,eAAEC,OAAO,eACpB,eAAsCT,QAAQ,CAAC,KAAK,CAAC,yCAA9CU,WAAW,eAAEC,cAAc,eAElC,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAgB,CAAIC,KAAK,CAAK,CAClCN,SAAS,CAACM,KAAK,CAACC,aAAa,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,CAC3C,CAAC,CAED,GAAMC,gBAAe,CAAG,QAAlBA,gBAAe,CAAIH,KAAK,CAAK,CACjCJ,OAAO,CAACI,KAAK,CAACC,aAAa,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,CACzC,CAAC,CAED,GAAME,eAAc,CAAG,QAAjBA,eAAc,EAAS,CAC3B;AACA,GAAMC,KAAI,CAAGV,IAAI,CAAGF,MAAM,CAAG,CAAC,EAAIE,IAAI,GAAK,CAAC,CAC5CG,cAAc,CAACO,IAAI,CAAC,CAEpB;AACAT,OAAO,CAAC,CAAC,CAAC,CACVF,SAAS,CAAC,CAAC,CAAC,CACd,CAAC,CAED,mBACE,aACE,SAAS,sBAAgB,CAAAJ,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEgB,MAAM,IAAK,GAAG,CAAG,EAAE,CAAG,QAAQ,CAAG,CAChE,YAAY,CAAEP,gBAAiB,CAC/B,WAAW,CAAEI,eAAgB,CAC7B,UAAU,CAAEC,cAAe,CAC3B,OAAO,CAAEZ,SAAU,wBAEnB,wCACE,YAAK,SAAS,CAAC,aAAa,UAAGe,kBAAkB,CAACC,MAAM,CAACC,MAAM,CAACC,IAAI,CAACpB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEqB,UAAU,CAAC,CAAC,CAAC,EAAQ,cAChG,YAAK,SAAS,CAAC,YAAY,UAAGrB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEsB,QAAQ,EAAQ,GAC5C,cACV,gBAAS,SAAS,CAAC,eAAe,UAC9BL,kBAAkB,CAACC,MAAM,CAACC,MAAM,CAACC,IAAI,CAACpB,IAAI,CAACuB,UAAU,CAAC,CAAC,CAAC,EAClD,cACV,aACE,SAAS,qBAAehB,WAAW,CAAG,EAAE,CAAG,MAAM,CAAG,CACpD,OAAO,CAAEN,WAAY,wBAErB,YAAK,GAAG,CAAEH,UAAW,CAAC,GAAG,CAAC,EAAE,EAAG,kBAE3B,GACF,CAEV,CAAC,CAED,cAAeC,YAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}