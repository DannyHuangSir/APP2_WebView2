{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{callAPI,download}from'utilities/axios';import{dateToYMD}from'utilities/Generator';/**\r\n * 取得當前所選帳號之交易明細\r\n * @param {*} accountNo 存款帳號, ex: 00100100063106\r\n * @returns 帳戶往來明細清單\r\n    {\r\n        \"index\": 1,\r\n        \"bizDate\": \"20220425\",\r\n        \"txnDate\": \"20220425\",\r\n        \"txnTime\": 210156,\r\n        \"description\": \"現金\",\r\n        \"memo\": null,\r\n        \"targetMbrId\": null,\r\n        \"targetNickName\": null,\r\n        \"targetBank\": \"000\",\r\n        \"targetAcct\": null,\r\n        \"amount\": 36000,\r\n        \"balance\": 386000,\r\n        \"cdType\": \"d\",\r\n        \"currency\": \"TWD\"\r\n    }\r\n */export var getTransactions=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(accountNo){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return callAPI('/api/deposit/v1/getTransactions',{accountNo:accountNo,currency:'TWD'});case 2:response=_context.sent;return _context.abrupt(\"return\",response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getTransactions(_x){return _ref.apply(this,arguments);};}();/**\r\n * 下載存摺封面\r\n * @param {*} accountNo 存款帳號\r\n * @param {*} currency 幣別代碼，預設為台幣(TWD)\r\n * @returns 存摺封面\r\n */export var downloadDepositBookCover=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(accountNo){var currency,today,filename,_args2=arguments;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:currency=_args2.length>1&&_args2[1]!==undefined?_args2[1]:'TWD';today=dateToYMD();// 今天 yyyyMMdd\nfilename=\"\".concat(accountNo,\"-\").concat(today,\".pdf\");_context2.next=5;return download('/api/deposit/v1/getDepositBookCover',{accountNo:accountNo,currency:currency},filename);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function downloadDepositBookCover(_x2){return _ref2.apply(this,arguments);};}();/**\r\n * 設定存款帳戶別名\r\n * @param {*} accountNo 存款帳號\r\n * @param {*} alias 帳戶別名；若為空值，則會恢復原始帳戶名稱\r\n * @returns\r\n */export var setAccountAlias=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(accountNo,alias){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return callAPI('/api/deposit/v1/setAccountAlias',{accountNo:accountNo,alias:alias});case 2:response=_context3.sent;return _context3.abrupt(\"return\",response.data);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function setAccountAlias(_x3,_x4){return _ref3.apply(this,arguments);};}();","map":{"version":3,"names":["callAPI","download","dateToYMD","getTransactions","accountNo","currency","response","data","downloadDepositBookCover","today","filename","setAccountAlias","alias"],"sources":["C:/Users/allen/git/app2-webview/src/pages/C00300_NtdDeposit/api.js"],"sourcesContent":["import { callAPI, download } from 'utilities/axios';\r\nimport { dateToYMD } from 'utilities/Generator';\r\n\r\n/**\r\n * 取得當前所選帳號之交易明細\r\n * @param {*} accountNo 存款帳號, ex: 00100100063106\r\n * @returns 帳戶往來明細清單\r\n    {\r\n        \"index\": 1,\r\n        \"bizDate\": \"20220425\",\r\n        \"txnDate\": \"20220425\",\r\n        \"txnTime\": 210156,\r\n        \"description\": \"現金\",\r\n        \"memo\": null,\r\n        \"targetMbrId\": null,\r\n        \"targetNickName\": null,\r\n        \"targetBank\": \"000\",\r\n        \"targetAcct\": null,\r\n        \"amount\": 36000,\r\n        \"balance\": 386000,\r\n        \"cdType\": \"d\",\r\n        \"currency\": \"TWD\"\r\n    }\r\n */\r\nexport const getTransactions = async (accountNo) => {\r\n  const response = await callAPI('/api/deposit/v1/getTransactions', { accountNo, currency: 'TWD' });\r\n  return response.data;\r\n};\r\n\r\n/**\r\n * 下載存摺封面\r\n * @param {*} accountNo 存款帳號\r\n * @param {*} currency 幣別代碼，預設為台幣(TWD)\r\n * @returns 存摺封面\r\n */\r\nexport const downloadDepositBookCover = async (accountNo, currency = 'TWD') => {\r\n  const today = dateToYMD(); // 今天 yyyyMMdd\r\n  const filename = `${accountNo}-${today}.pdf`;\r\n  await download('/api/deposit/v1/getDepositBookCover', { accountNo, currency }, filename);\r\n};\r\n\r\n/**\r\n * 設定存款帳戶別名\r\n * @param {*} accountNo 存款帳號\r\n * @param {*} alias 帳戶別名；若為空值，則會恢復原始帳戶名稱\r\n * @returns\r\n */\r\nexport const setAccountAlias = async (accountNo, alias) => {\r\n  const response = await callAPI('/api/deposit/v1/setAccountAlias', { accountNo, alias });\r\n  return response.data;\r\n};\r\n"],"mappings":"0PAAA,OAASA,OAAO,CAAEC,QAAQ,KAAQ,iBAAiB,CACnD,OAASC,SAAS,KAAQ,qBAAqB,CAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,IAAMC,gBAAe,4FAAG,iBAAOC,SAAS,uJACtBJ,QAAO,CAAC,iCAAiC,CAAE,CAAEI,SAAS,CAATA,SAAS,CAAEC,QAAQ,CAAE,KAAM,CAAC,CAAC,QAA3FC,QAAQ,+CACPA,QAAQ,CAACC,IAAI,wDACrB,kBAHYJ,gBAAe,4CAG3B,CAED;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,IAAMK,yBAAwB,6FAAG,kBAAOJ,SAAS,qKAAEC,QAAQ,kDAAG,KAAK,CAClEI,KAAK,CAAGP,SAAS,EAAE,CAAE;AACrBQ,QAAQ,WAAMN,SAAS,aAAIK,KAAK,gCAChCR,SAAQ,CAAC,qCAAqC,CAAE,CAAEG,SAAS,CAATA,SAAS,CAAEC,QAAQ,CAARA,QAAS,CAAC,CAAEK,QAAQ,CAAC,yDACzF,kBAJYF,yBAAwB,8CAIpC,CAED;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,IAAMG,gBAAe,6FAAG,kBAAOP,SAAS,CAAEQ,KAAK,4JAC7BZ,QAAO,CAAC,iCAAiC,CAAE,CAAEI,SAAS,CAATA,SAAS,CAAEQ,KAAK,CAALA,KAAM,CAAC,CAAC,QAAjFN,QAAQ,iDACPA,QAAQ,CAACC,IAAI,0DACrB,kBAHYI,gBAAe,kDAG3B"},"metadata":{},"sourceType":"module","externalDependencies":[]}