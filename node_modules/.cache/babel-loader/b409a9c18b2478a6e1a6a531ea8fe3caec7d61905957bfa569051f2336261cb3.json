{"ast":null,"code":"import _objectSpread from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable object-curly-newline */ /* eslint-disable no-use-before-define */import{useEffect,useReducer}from'react';import{useHistory}from'react-router';import Layout from'components/Layout/Layout';import InformationList from'components/InformationList';import{FEIBButton}from'components/elements';import{transactionAuth}from'utilities/AppScriptProxy';import{getAccountsList,getBankCode,updateAccount}from'utilities/CacheData';import{showError}from'utilities/MessageModal';import{AuthCode}from'utilities/TxnAuthCode';import{createNtdTransfer,executeNtdTransfer}from'./api';import{getTransInData,getDisplayAmount,getTransDate,getCycleDesc}from'./util';import TransferWrapper from'./D00100.style';/**\r\n * 轉帳確認頁\r\n * @param {*} { state } 是由轉帳首頁(D00100)傳過來的 Model 資料。\r\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TransferConfirm=function TransferConfirm(props){var location=props.location;var state=location.state;var history=useHistory();var _useReducer=useReducer(function(x){return x+1;},0),_useReducer2=_slicedToArray(_useReducer,2),forceUpdate=_useReducer2[1];var model=state;var transInData=getTransInData(model.transIn);/**\r\n   * 頁面初始化\r\n   */useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:getBankCode().then(function(items){if(model){var _items$find;// 取得銀行名稱。\nvar _ref2=(_items$find=items.find(function(b){return b.bankNo===model.transIn.bank;}))!==null&&_items$find!==void 0?_items$find:'',bankName=_ref2.bankName;model.transIn.bankName=bankName;// 因為下一頁也會用到，所以可以先存下來。\nforceUpdate();}});case 1:case\"end\":return _context.stop();}}},_callee);})),[]);/**\r\n   * 執行轉帳程序，包含進行交易驗證。\r\n   */var onConfirm=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var transOut,transIn,request,response,authCode,auth,result,param;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:transOut=model.transOut,transIn=model.transIn;request={transOut:transOut.account,transIn:{// 不需要額外指出是否為約定轉號，由 Controller 判斷，並傳回。\nbank:transInData.bank,account:transInData.account},amount:parseInt(model.amount,10),booking:model.booking,memo:model.memo};delete request.booking.transTimes;// 建立轉帳交易紀錄。\n_context2.next=5;return createNtdTransfer(request);case 5:response=_context2.sent;if(!response.result){_context2.next=20;break;}// 以 Server端傳回的約轉帳號旗標為準。\nif(response.isAgreedTxn)transIn.type=2;else transIn.type=transIn.freqAcct?1:0;// 進行交易驗證，要求使用者輸入OTP、密碼、雙因子...等。\nauthCode=response.isAgreedTxn?AuthCode.D00100.REG:AuthCode.D00100.NONREG;_context2.next=11;return transactionAuth(authCode);case 11:auth=_context2.sent;if(!auth.result){_context2.next=18;break;}_context2.next=15;return executeTransfer();case 15:result=_context2.sent;// 顯示轉帳結果（含加入常用帳號）\nparam=_objectSpread(_objectSpread({},model),{},{result:result});history.push('/D001002',param);case 18:_context2.next=22;break;case 20:_context2.next=22;return showError(response.message,goBack);case 22:case\"end\":return _context2.stop();}}},_callee2);}));return function onConfirm(){return _ref3.apply(this,arguments);};}();/**\r\n   * 執行轉帳交易。\r\n   * @returns {Promise<{\r\n   *    isSuccess,\r\n   *    balance: 轉出後餘額,\r\n   *    fee: 手續費,\r\n   *    isCrossBank: 表示跨轉轉帳,\r\n   *    fiscCode: 財金序號_跨轉才有,\r\n   *    errorCode,\r\n   *    message: 錯誤訊息,\r\n   * }>} 轉帳結果。\r\n   */var executeTransfer=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var executeRs,result;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return executeNtdTransfer();case 2:executeRs=_context4.sent;console.log('==> 轉帳執行結果：',executeRs);result=_objectSpread(_objectSpread({},executeRs),{},{isCrossBank:transInData.bank!=='805'&&executeRs.fee===0// 表示跨轉轉帳\n});if(result.isSuccess){if(result.balance!==model.transOut.balance-model.amount-executeRs.fee)alert(\"\\u9918\\u984D\\u4E0D\\u4E00\\u81F4\\uFF1A\".concat(model.transOut.balance-model.amount-executeRs.fee));// DEBUG\nmodel.transOut.balance=executeRs.balance;if(result.isCrossBank)model.transOut.freeTransferRemain-=1;// 跨轉優惠次數\n// 更新快取（跨轉優惠次數、餘額）\ngetAccountsList('MSC',/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(accounts){var account;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:account=accounts.find(function(acc){return acc.accountNo===model.transOut.account;});updateAccount(_objectSpread(_objectSpread({},account),{},{balance:executeRs.balance,// 更新 餘額\nbonus:_objectSpread(_objectSpread({},account.bonus),{},{freeTransferRemain:model.transOut.freeTransferRemain// 更新 跨轉優惠次數\n})}));case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x){return _ref5.apply(this,arguments);};}());}return _context4.abrupt(\"return\",result);case 7:case\"end\":return _context4.stop();}}},_callee4);}));return function executeTransfer(){return _ref4.apply(this,arguments);};}();/**\r\n   *返回轉帳首頁。\r\n   */var goBack=function goBack(){history.replace('/D00100',model);};/**\r\n   * 頁面輸出。\r\n   */return/*#__PURE__*/_jsx(Layout,{title:\"\\u8F49\\u5E33\\u78BA\\u8A8D\",goBackFunc:goBack,children:/*#__PURE__*/_jsxs(TransferWrapper,{className:\"transferConfirmPage\",children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"section\",{className:\"transferMainInfo\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u8F49\\u51FA\\u91D1\\u984D\\u8207\\u8F49\\u5165\\u5E33\\u865F\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"transferAmount\",children:getDisplayAmount(model.amount)}),/*#__PURE__*/_jsx(\"h3\",{children:\"\".concat(transInData.bankName,\" (\").concat(transInData.bank,\")\")}),/*#__PURE__*/_jsx(\"h3\",{children:transInData.account}),transInData.accountName&&/*#__PURE__*/_jsx(\"h4\",{children:\"< \".concat(transInData.accountName,\" >\")})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(InformationList,{title:\"\\u8F49\\u51FA\\u5E33\\u865F\",content:model.transOut.account,remark:model.transOut.alias}),/*#__PURE__*/_jsx(InformationList,{title:\"\\u6642\\u9593\",content:getTransDate(model.booking)}),model.booking.mode===1&&model.booking.multiTimes==='*'&&/*#__PURE__*/_jsx(InformationList,{title:\"\\u9031\\u671F\",content:getCycleDesc(model.booking),remark:model.booking.multiTimes==='*'?\"\\u9810\\u8A08\\u8F49\\u5E33\".concat(model.booking.transTimes,\"\\u6B21\"):''}),/*#__PURE__*/_jsx(InformationList,{title:\"\\u5099\\u8A3B\",content:model.memo}),/*#__PURE__*/_jsx(\"p\",{className:\"warningText\",children:\"\\u964C\\u751F\\u96FB\\u8A71\\u5148\\u6C42\\u8B49\\uFF0C\\u8F49\\u5E33\\u4EA4\\u6613\\u9808\\u8B39\\u614E\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"section\",{className:\"transferAction\",children:/*#__PURE__*/_jsx(\"div\",{className:\"transferButtonArea\",children:/*#__PURE__*/_jsx(FEIBButton,{onClick:onConfirm,children:\"\\u78BA\\u8A8D\"})})})]})});};export default TransferConfirm;","map":{"version":3,"names":["useEffect","useReducer","useHistory","Layout","InformationList","FEIBButton","transactionAuth","getAccountsList","getBankCode","updateAccount","showError","AuthCode","createNtdTransfer","executeNtdTransfer","getTransInData","getDisplayAmount","getTransDate","getCycleDesc","TransferWrapper","TransferConfirm","props","location","state","history","x","forceUpdate","model","transInData","transIn","then","items","find","b","bankNo","bank","bankName","onConfirm","transOut","request","account","amount","parseInt","booking","memo","transTimes","response","result","isAgreedTxn","type","freqAcct","authCode","D00100","REG","NONREG","auth","executeTransfer","param","push","message","goBack","executeRs","console","log","isCrossBank","fee","isSuccess","balance","alert","freeTransferRemain","accounts","acc","accountNo","bonus","replace","accountName","alias","mode","multiTimes"],"sources":["C:/Users/allen/git/app2-webview/src/pages/D00100_NtdTransfer/D00100_1.js"],"sourcesContent":["/* eslint-disable object-curly-newline */\r\n/* eslint-disable no-use-before-define */\r\nimport { useEffect, useReducer } from 'react';\r\nimport { useHistory } from 'react-router';\r\n\r\nimport Layout from 'components/Layout/Layout';\r\nimport InformationList from 'components/InformationList';\r\nimport { FEIBButton } from 'components/elements';\r\n\r\nimport { transactionAuth } from 'utilities/AppScriptProxy';\r\nimport { getAccountsList, getBankCode, updateAccount } from 'utilities/CacheData';\r\nimport { showError } from 'utilities/MessageModal';\r\nimport { AuthCode } from 'utilities/TxnAuthCode';\r\nimport { createNtdTransfer, executeNtdTransfer } from './api';\r\nimport { getTransInData, getDisplayAmount, getTransDate, getCycleDesc } from './util';\r\nimport TransferWrapper from './D00100.style';\r\n\r\n/**\r\n * 轉帳確認頁\r\n * @param {*} { state } 是由轉帳首頁(D00100)傳過來的 Model 資料。\r\n */\r\nconst TransferConfirm = (props) => {\r\n  const { location } = props;\r\n  const { state } = location;\r\n\r\n  const history = useHistory();\r\n  const [, forceUpdate] = useReducer((x) => x + 1, 0);\r\n\r\n  const model = state;\r\n  const transInData = getTransInData(model.transIn);\r\n\r\n  /**\r\n   * 頁面初始化\r\n   */\r\n  useEffect(async () => {\r\n    getBankCode().then((items) => {\r\n      if (model) {\r\n        // 取得銀行名稱。\r\n        const { bankName } = items.find((b) => b.bankNo === model.transIn.bank) ?? '';\r\n        model.transIn.bankName = bankName; // 因為下一頁也會用到，所以可以先存下來。\r\n        forceUpdate();\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  /**\r\n   * 執行轉帳程序，包含進行交易驗證。\r\n   */\r\n  const onConfirm = async () => {\r\n    const { transOut, transIn } = model;\r\n    const request = {\r\n      transOut: transOut.account,\r\n      transIn: { // 不需要額外指出是否為約定轉號，由 Controller 判斷，並傳回。\r\n        bank: transInData.bank,\r\n        account: transInData.account,\r\n      },\r\n      amount: parseInt(model.amount, 10),\r\n      booking: model.booking,\r\n      memo: model.memo,\r\n    };\r\n    delete request.booking.transTimes;\r\n\r\n    // 建立轉帳交易紀錄。\r\n    const response = await createNtdTransfer(request);\r\n    if (response.result) {\r\n      // 以 Server端傳回的約轉帳號旗標為準。\r\n      if (response.isAgreedTxn) transIn.type = 2;\r\n      else transIn.type = (transIn.freqAcct ? 1 : 0);\r\n\r\n      // 進行交易驗證，要求使用者輸入OTP、密碼、雙因子...等。\r\n      const authCode = (response.isAgreedTxn) ? AuthCode.D00100.REG : AuthCode.D00100.NONREG;\r\n      const auth = await transactionAuth(authCode);\r\n      if (auth.result) {\r\n        const result = await executeTransfer();\r\n        // 顯示轉帳結果（含加入常用帳號）\r\n        const param = {...model, result};\r\n        history.push('/D001002', param);\r\n      }\r\n    } else {\r\n      // 顯示失敗原因，並回到前一頁；若是嚴重錯誤，會在 axios 就處理掉了。\r\n      await showError(response.message, goBack);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 執行轉帳交易。\r\n   * @returns {Promise<{\r\n   *    isSuccess,\r\n   *    balance: 轉出後餘額,\r\n   *    fee: 手續費,\r\n   *    isCrossBank: 表示跨轉轉帳,\r\n   *    fiscCode: 財金序號_跨轉才有,\r\n   *    errorCode,\r\n   *    message: 錯誤訊息,\r\n   * }>} 轉帳結果。\r\n   */\r\n  const executeTransfer = async () => {\r\n    // TODO 顯示交易授權中，請稍候...\r\n    const executeRs = await executeNtdTransfer();\r\n    console.log('==> 轉帳執行結果：', executeRs);\r\n\r\n    const result = {\r\n      ...executeRs,\r\n      isCrossBank: (transInData.bank !== '805' && executeRs.fee === 0), // 表示跨轉轉帳\r\n    };\r\n\r\n    if (result.isSuccess) {\r\n      if (result.balance !== (model.transOut.balance - model.amount - executeRs.fee)) alert(`餘額不一致：${model.transOut.balance - model.amount - executeRs.fee}`); // DEBUG\r\n      model.transOut.balance = executeRs.balance;\r\n      if (result.isCrossBank) model.transOut.freeTransferRemain -= 1; // 跨轉優惠次數\r\n\r\n      // 更新快取（跨轉優惠次數、餘額）\r\n      getAccountsList('MSC', async (accounts) => {\r\n        const account = accounts.find((acc) => acc.accountNo === model.transOut.account);\r\n        updateAccount({\r\n          ...account,\r\n          balance: executeRs.balance, // 更新 餘額\r\n          bonus: {\r\n            ...account.bonus,\r\n            freeTransferRemain: model.transOut.freeTransferRemain, // 更新 跨轉優惠次數\r\n          },\r\n        });\r\n      });\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  /**\r\n   *返回轉帳首頁。\r\n   */\r\n  const goBack = () => {\r\n    history.replace('/D00100', model);\r\n  };\r\n\r\n  /**\r\n   * 頁面輸出。\r\n   */\r\n  return (\r\n    <Layout title=\"轉帳確認\" goBackFunc={goBack}>\r\n      <TransferWrapper className=\"transferConfirmPage\">\r\n        <hr />\r\n        <section className=\"transferMainInfo\">\r\n          <p>轉出金額與轉入帳號</p>\r\n          <h3 className=\"transferAmount\">{getDisplayAmount(model.amount)}</h3>\r\n          <h3>{`${transInData.bankName} (${transInData.bank})`}</h3>\r\n          <h3>{transInData.account}</h3>\r\n          {transInData.accountName && (<h4>{`< ${transInData.accountName} >`}</h4>)}\r\n        </section>\r\n        <hr />\r\n        <section>\r\n          <InformationList title=\"轉出帳號\" content={model.transOut.account} remark={model.transOut.alias} />\r\n\r\n          <InformationList title=\"時間\" content={getTransDate(model.booking)} />\r\n          {model.booking.mode === 1 && model.booking.multiTimes === '*' && (\r\n            <InformationList\r\n              title=\"週期\"\r\n              content={getCycleDesc(model.booking)}\r\n              remark={model.booking.multiTimes === '*' ? `預計轉帳${model.booking.transTimes}次` : ''}\r\n            />\r\n          )}\r\n\r\n          <InformationList title=\"備註\" content={model.memo} />\r\n          <p className=\"warningText\">陌生電話先求證，轉帳交易須謹慎</p>\r\n        </section>\r\n        <hr />\r\n        <section className=\"transferAction\">\r\n          <div className=\"transferButtonArea\">\r\n            <FEIBButton onClick={onConfirm}>確認</FEIBButton>\r\n          </div>\r\n        </section>\r\n      </TransferWrapper>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default TransferConfirm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}