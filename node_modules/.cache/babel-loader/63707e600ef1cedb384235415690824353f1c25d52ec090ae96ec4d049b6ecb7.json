{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useEffect}from'react';import{useDispatch}from'react-redux';import{useForm}from'react-hook-form';import{yupResolver}from'@hookform/resolvers/yup';import{FEIBButton}from'components/elements';import{TextInputField}from'components/Fields';import{setModalVisible}from'stores/reducers/ModalReducer';import{validationSchema}from'./validationSchema';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var MemoEditForm=function MemoEditForm(_ref){var defaultValues=_ref.defaultValues,isBankeeCard=_ref.isBankeeCard,onTxnNotesEdit=_ref.onTxnNotesEdit;var dispatch=useDispatch();var _useForm=useForm({defaultValues:defaultValues,resolver:yupResolver(validationSchema)}),control=_useForm.control,handleSubmit=_useForm.handleSubmit,unregister=_useForm.unregister;var onSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref2){var cardNo,txDate,txKey,note,payload;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:cardNo=_ref2.cardNo,txDate=_ref2.txDate,txKey=_ref2.txKey,note=_ref2.note;payload={cardNo:cardNo,txDate:txDate,txKey:txKey,note:note};// console.log('payload', payload);\n_context.next=4;return onTxnNotesEdit(payload,isBankeeCard);case 4:dispatch(setModalVisible(false));case 5:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref3.apply(this,arguments);};}();useEffect(function(){return function(){return unregister('note');};},[]);return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(TextInputField,{labelName:\"\\u5099\\u8A3B\\u8AAA\\u660E\",name:\"note\",control:control}),/*#__PURE__*/_jsx(FEIBButton,{children:\"\\u5B8C\\u6210\"})]});};","map":{"version":3,"names":["React","useEffect","useDispatch","useForm","yupResolver","FEIBButton","TextInputField","setModalVisible","validationSchema","MemoEditForm","defaultValues","isBankeeCard","onTxnNotesEdit","dispatch","resolver","control","handleSubmit","unregister","onSubmit","cardNo","txDate","txKey","note","payload"],"sources":["C:/Users/allen/git/app2-webview/src/components/CreditCardTxsList/memoEditForm.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useForm } from 'react-hook-form';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\n\r\nimport { FEIBButton } from 'components/elements';\r\nimport { TextInputField } from 'components/Fields';\r\nimport { setModalVisible } from 'stores/reducers/ModalReducer';\r\n\r\nimport { validationSchema } from './validationSchema';\r\n\r\nexport const MemoEditForm = ({\r\n  defaultValues,\r\n  isBankeeCard,\r\n  onTxnNotesEdit,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const { control, handleSubmit, unregister } = useForm({\r\n    defaultValues,\r\n    resolver: yupResolver(validationSchema),\r\n  });\r\n\r\n  const onSubmit = async ({\r\n    cardNo, txDate, txKey, note,\r\n  }) => {\r\n    const payload = {\r\n      cardNo, txDate, txKey, note,\r\n    };\r\n\r\n    // console.log('payload', payload);\r\n    await onTxnNotesEdit(payload, isBankeeCard);\r\n    dispatch(setModalVisible(false));\r\n  };\r\n\r\n  useEffect(() => () => unregister('note'), []);\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)}>\r\n      <TextInputField labelName=\"備註說明\" name=\"note\" control={control} />\r\n      <FEIBButton>完成</FEIBButton>\r\n    </form>\r\n  );\r\n};\r\n"],"mappings":"0PAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,OAAO,KAAQ,iBAAiB,CACzC,OAASC,WAAW,KAAQ,yBAAyB,CAErD,OAASC,UAAU,KAAQ,qBAAqB,CAChD,OAASC,cAAc,KAAQ,mBAAmB,CAClD,OAASC,eAAe,KAAQ,8BAA8B,CAE9D,OAASC,gBAAgB,KAAQ,oBAAoB,CAAC,wFAEtD,MAAO,IAAMC,aAAY,CAAG,QAAfA,aAAY,MAInB,IAHJC,cAAa,MAAbA,aAAa,CACbC,YAAY,MAAZA,YAAY,CACZC,cAAc,MAAdA,cAAc,CAEd,GAAMC,SAAQ,CAAGX,WAAW,EAAE,CAC9B,aAA8CC,OAAO,CAAC,CACpDO,aAAa,CAAbA,aAAa,CACbI,QAAQ,CAAEV,WAAW,CAACI,gBAAgB,CACxC,CAAC,CAAC,CAHMO,OAAO,UAAPA,OAAO,CAAEC,YAAY,UAAZA,YAAY,CAAEC,UAAU,UAAVA,UAAU,CAKzC,GAAMC,SAAQ,6FAAG,+KACfC,MAAM,OAANA,MAAM,CAAEC,MAAM,OAANA,MAAM,CAAEC,KAAK,OAALA,KAAK,CAAEC,IAAI,OAAJA,IAAI,CAErBC,OAAO,CAAG,CACdJ,MAAM,CAANA,MAAM,CAAEC,MAAM,CAANA,MAAM,CAAEC,KAAK,CAALA,KAAK,CAAEC,IAAI,CAAJA,IACzB,CAAC,CAED;AAAA,sBACMV,eAAc,CAACW,OAAO,CAAEZ,YAAY,CAAC,QAC3CE,QAAQ,CAACN,eAAe,CAAC,KAAK,CAAC,CAAC,CAAC,sDAClC,kBAVKW,SAAQ,6CAUb,CAEDjB,SAAS,CAAC,iBAAM,kBAAMgB,WAAU,CAAC,MAAM,CAAC,KAAE,EAAE,CAAC,CAE7C,mBACE,cAAM,QAAQ,CAAED,YAAY,CAACE,QAAQ,CAAE,wBACrC,KAAC,cAAc,EAAC,SAAS,CAAC,0BAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAEH,OAAQ,EAAG,cACjE,KAAC,UAAU,2BAAgB,GACtB,CAEX,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}