{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{useDispatch}from'react-redux';import{setWaittingVisible}from'stores/reducers/ModalReducer';import Main from'components/Layout';import Layout from'components/Layout/Layout';import Avatar from'components/Avatar';import{dateToString,toHalfWidth}from'utilities/Generator';import EmptyData from'components/EmptyData';import{getFriends}from'./api';import PageWrapper from'./M00200.style';/**\r\n * M00200 好友查詢\r\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Page=function Page(){var dispatch=useDispatch();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),friends=_useState2[0],setFriends=_useState2[1];useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(setWaittingVisible(true));_context.next=3;return getFriends();case 3:response=_context.sent;setFriends(response);dispatch(setWaittingVisible(false));case 6:case\"end\":return _context.stop();}}},_callee);})),[]);return/*#__PURE__*/_jsx(Layout,{title:\"\\u597D\\u53CB\\u67E5\\u8A62\",children:/*#__PURE__*/_jsx(Main,{children:friends.length?/*#__PURE__*/_jsx(PageWrapper,{children:/*#__PURE__*/_jsx(\"ul\",{className:\"friend-list\",children:friends.map(function(f){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Avatar,{small:true,memberId:f.friendUuid,name:f.friendName})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:toHalfWidth(f.friendName)}),/*#__PURE__*/_jsxs(\"div\",{className:\"note\",children:[f.depositApproved&&/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u958B\\u6236\\uFF1A\",dateToString(f.depositApproved)]}),f.creditCardApproved&&/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u6838\\u5361\\uFF1A\",dateToString(f.creditCardApproved)]})]})]})]},f.friendUuid);})})}):/*#__PURE__*/_jsx(EmptyData,{content:\"\\u67E5\\u7121\\u597D\\u53CB\\u8CC7\\u6599\"})})});};export default Page;","map":{"version":3,"names":["useState","useEffect","useDispatch","setWaittingVisible","Main","Layout","Avatar","dateToString","toHalfWidth","EmptyData","getFriends","PageWrapper","Page","dispatch","friends","setFriends","response","length","map","f","friendUuid","friendName","depositApproved","creditCardApproved"],"sources":["C:/Users/allen/git/app2-webview/src/pages/M00200_FriendSearch/M00200.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setWaittingVisible } from 'stores/reducers/ModalReducer';\r\n\r\nimport Main from 'components/Layout';\r\nimport Layout from 'components/Layout/Layout';\r\nimport Avatar from 'components/Avatar';\r\nimport { dateToString, toHalfWidth } from 'utilities/Generator';\r\n\r\nimport EmptyData from 'components/EmptyData';\r\nimport { getFriends } from './api';\r\nimport PageWrapper from './M00200.style';\r\n\r\n/**\r\n * M00200 好友查詢\r\n */\r\nconst Page = () => {\r\n  const dispatch = useDispatch();\r\n  const [friends, setFriends] = useState([]);\r\n\r\n  useEffect(async () => {\r\n    dispatch(setWaittingVisible(true));\r\n    const response = await getFriends();\r\n    setFriends(response);\r\n    dispatch(setWaittingVisible(false));\r\n  }, []);\r\n\r\n  return (\r\n    <Layout title=\"好友查詢\">\r\n      <Main>\r\n        { friends.length ? (\r\n          <PageWrapper>\r\n            <ul className=\"friend-list\">\r\n              {friends.map((f) => (\r\n                <li key={f.friendUuid}>\r\n                  <div>\r\n                    <Avatar small memberId={f.friendUuid} name={f.friendName} />\r\n                  </div>\r\n                  <div className=\"flex-auto\">\r\n                    <div className=\"title\">\r\n                      {toHalfWidth(f.friendName)}\r\n                    </div>\r\n                    <div className=\"note\">\r\n                      {f.depositApproved && (\r\n                        <div>\r\n                          開戶：\r\n                          {dateToString(f.depositApproved)}\r\n                        </div>\r\n                      )}\r\n                      {f.creditCardApproved && (\r\n                        <div>\r\n                          核卡：\r\n                          {dateToString(f.creditCardApproved)}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </PageWrapper>\r\n        ) : <EmptyData content=\"查無好友資料\" />}\r\n      </Main>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Page;\r\n"],"mappings":"+WAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,kBAAkB,KAAQ,8BAA8B,CAEjE,MAAOC,KAAI,KAAM,mBAAmB,CACpC,MAAOC,OAAM,KAAM,0BAA0B,CAC7C,MAAOC,OAAM,KAAM,mBAAmB,CACtC,OAASC,YAAY,CAAEC,WAAW,KAAQ,qBAAqB,CAE/D,MAAOC,UAAS,KAAM,sBAAsB,CAC5C,OAASC,UAAU,KAAQ,OAAO,CAClC,MAAOC,YAAW,KAAM,gBAAgB,CAExC;AACA;AACA,GAFA,wFAGA,GAAMC,KAAI,CAAG,QAAPA,KAAI,EAAS,CACjB,GAAMC,SAAQ,CAAGX,WAAW,EAAE,CAC9B,cAA8BF,QAAQ,CAAC,EAAE,CAAC,wCAAnCc,OAAO,eAAEC,UAAU,eAE1Bd,SAAS,wEAAC,kJACRY,QAAQ,CAACV,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAAC,sBACZO,WAAU,EAAE,QAA7BM,QAAQ,eACdD,UAAU,CAACC,QAAQ,CAAC,CACpBH,QAAQ,CAACV,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC,sDACrC,GAAE,EAAE,CAAC,CAEN,mBACE,KAAC,MAAM,EAAC,KAAK,CAAC,0BAAM,uBAClB,KAAC,IAAI,WACDW,OAAO,CAACG,MAAM,cACd,KAAC,WAAW,wBACV,WAAI,SAAS,CAAC,aAAa,UACxBH,OAAO,CAACI,GAAG,CAAC,SAACC,CAAC,qBACb,mCACE,kCACE,KAAC,MAAM,EAAC,KAAK,MAAC,QAAQ,CAAEA,CAAC,CAACC,UAAW,CAAC,IAAI,CAAED,CAAC,CAACE,UAAW,EAAG,EACxD,cACN,aAAK,SAAS,CAAC,WAAW,wBACxB,YAAK,SAAS,CAAC,OAAO,UACnBb,WAAW,CAACW,CAAC,CAACE,UAAU,CAAC,EACtB,cACN,aAAK,SAAS,CAAC,MAAM,WAClBF,CAAC,CAACG,eAAe,eAChB,4CAEGf,YAAY,CAACY,CAAC,CAACG,eAAe,CAAC,GAEnC,CACAH,CAAC,CAACI,kBAAkB,eACnB,4CAEGhB,YAAY,CAACY,CAAC,CAACI,kBAAkB,CAAC,GAEtC,GACG,GACF,GAtBCJ,CAAC,CAACC,UAAU,CAuBhB,EACN,CAAC,EACC,EACO,cACZ,KAAC,SAAS,EAAC,OAAO,CAAC,sCAAQ,EAAG,EAC7B,EACA,CAEb,CAAC,CAED,cAAeR,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}