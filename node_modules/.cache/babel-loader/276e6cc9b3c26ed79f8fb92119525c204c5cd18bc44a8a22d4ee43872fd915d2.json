{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/allen/git/app2-webview/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{download}from'utilities/axios';import{dateToYMD}from'utilities/Generator';/**\r\n * 下載交易明細清單\r\n * @param {*} fileType 下載檔案類型, 1:PDF, 2:EXCEL(CSV)\r\n * @param {*} conditions 查詢條件\r\n * @returns 數位存摺\r\n */export var getDepositBook=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(fileType,conditions){var today,filename,request;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:today=dateToYMD();// 今天 yyyyMMdd\nfilename=\"\".concat(conditions.accountNo,\"-\").concat(today);request={conditions:conditions,fileType:fileType,pdfTemplateType:2// Pdf版型, 1:只有封面(可參考PdfTemplateType), 2:只有內容, 3:完整內容\n};_context.next=5;return download('/api/deposit/v1/getDepositBook',request,\"\".concat(filename,\".csv\"));case 5:case\"end\":return _context.stop();}}},_callee);}));return function getDepositBook(_x,_x2){return _ref.apply(this,arguments);};}();","map":{"version":3,"names":["download","dateToYMD","getDepositBook","fileType","conditions","today","filename","accountNo","request","pdfTemplateType"],"sources":["C:/Users/allen/git/app2-webview/src/components/AccountDetails/api.js"],"sourcesContent":["import { download } from 'utilities/axios';\r\nimport { dateToYMD } from 'utilities/Generator';\r\n\r\n/**\r\n * 下載交易明細清單\r\n * @param {*} fileType 下載檔案類型, 1:PDF, 2:EXCEL(CSV)\r\n * @param {*} conditions 查詢條件\r\n * @returns 數位存摺\r\n */\r\nexport const getDepositBook = async (fileType, conditions) => {\r\n  const today = dateToYMD(); // 今天 yyyyMMdd\r\n  const filename = `${conditions.accountNo}-${today}`;\r\n  const request = {\r\n    conditions,\r\n    fileType,\r\n    pdfTemplateType: 2, // Pdf版型, 1:只有封面(可參考PdfTemplateType), 2:只有內容, 3:完整內容\r\n  };\r\n  await download('/api/deposit/v1/getDepositBook', request, `${filename}.csv`);\r\n};\r\n"],"mappings":"0PAAA,OAASA,QAAQ,KAAQ,iBAAiB,CAC1C,OAASC,SAAS,KAAQ,qBAAqB,CAE/C;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,IAAMC,eAAc,4FAAG,iBAAOC,QAAQ,CAAEC,UAAU,+IACjDC,KAAK,CAAGJ,SAAS,EAAE,CAAE;AACrBK,QAAQ,WAAMF,UAAU,CAACG,SAAS,aAAIF,KAAK,EAC3CG,OAAO,CAAG,CACdJ,UAAU,CAAVA,UAAU,CACVD,QAAQ,CAARA,QAAQ,CACRM,eAAe,CAAE,CAAG;AACtB,CAAC,uBACKT,SAAQ,CAAC,gCAAgC,CAAEQ,OAAO,WAAKF,QAAQ,SAAO,uDAC7E,kBATYJ,eAAc,gDAS1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}